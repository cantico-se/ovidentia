<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="">
<META NAME="Keywords" CONTENT="">
<META NAME="Description" CONTENT="">
<LINK href="../styles/vtd8.css" rel=stylesheet>
</HEAD>

<BODY BGCOLOR="#FFFFFF">
<br><br><br><br><br>
<!--#begin newevent -->
<SCRIPT LANGUAGE="JavaScript">
<!--
function updateDates(elemDay, elemMonth, elemYear)
{
	timeA = new Date(elemYear.options[elemYear.selectedIndex].text, elemMonth.options[elemMonth.selectedIndex].value,1);
	timeDifference = timeA - 86400000;
	timeB = new Date(timeDifference);
	var daysInMonth = timeB.getDate();
	for (var i = 0; i < elemDay.length; i++)
	{
	elemDay.options[0] = null;
	}
	for (var i = 0; i < daysInMonth; i++)
	{
	elemDay.options[i] = new Option(i+1);
	}
	elemDay.options[0].selected = true;
}


function Start(page)
{
	var dummy;
	OpenWin = this.open(page, "CalendarWindow", "width=250,height=250,status=no,resizable=no,top=200,left=200");
}

function dateBegin(day, month, year)
{
	document.vacform.elements['daybegin'].options[day-1].selected = true;
	document.vacform.elements['monthbegin'].options[month-1].selected = true;
	document.vacform.elements['yearbegin'].options[year-{ yearmin }].selected = true;

}

function dateEnd(day, month, year)
{
	document.vacform.elements['dayend'].options[day-1].selected = true;
	document.vacform.elements['monthend'].options[month-1].selected = true;
	document.vacform.elements['yearend'].options[year-{ yearmin }].selected = true;

}
//-->
</SCRIPT>
<center>
<table border="0" width="90%" cellpadding="0" cellspacing="0">
<tr><td>
<form name="vacform" method="post" action="index.php" >
<input type="hidden" name="tg" value="event">
<input type="hidden" name="idx" value="addevent">
<input type="hidden" name="calid" value="{ calid }">
<input type="hidden" name="addevent" value="add">
<center>
<table class="BabDialogBgnd" width="50%" border="0" cellspacing="5" cellpadding="0">
<tr>
<td align="right" nowrap><a class="BabDialogLink" href="{ datebegin }">{ datebegintxt }</a>:</td>
<td>
<select name="daybegin">
<!--#in getnextday -->
<option value="{ dayid }" { selected }>{ dayid }</option>
<!--#endin getnextday -->
</select>
</td>
<td>
<select name="monthbegin" onChange="updateDates(this.form.daybegin, this.form.monthbegin, this.form.yearbegin);">
<!--#in getnextmonth -->
<option value="{ monthid }" { selected }>{ monthname }</option>
<!--#endin getnextmonth -->
</select>
</td>
<td>
<select name="yearbegin" onChange="updateDates(this.form.daybegin, this.form.monthbegin, this.form.yearbegin);">
<!--#in getnextyear -->
<option value="{ yearid }"  { selected }>{ yearidval }</option>
<!--#endin getnextyear -->
</select>
</td>
</tr>
<tr>
<td align="right" nowrap>{ daytype }:</td>
<td colspan="4">
<input type="checkbox" name="daytype" value="y" checked></td>
</tr>
<tr>
<td align="right" nowrap>{ or }:</td>
<td align="right" nowrap>{ from }</td>
<td>
<select name="timebegin">
<!--#in getnexttime -->
<option value="{ time }" { selected }>{ time }</option>
<!--#endin getnexttime -->
</select >
</td>
<td align="right" nowrap>{ to }</td>
<td>
<select name="timeend">
<!--#in getnexttime -->
<option value="{ time }" { selected }>{ time }</option>
<!--#endin getnexttime -->
</select >
</td>
</tr>
<tr>
<td align="right" nowrap>{ repeat }:</td>
<td colspan="4">
<input type="checkbox" name="repeat" value="y"></td>
</tr>
<tr>
<tr>
<td align="right" nowrap>{ daystext }:</td>
<td colspan="4">
<select multiple name="days[]" size="7">
<!--#in getnextdays -->
<option value="{ days }">{ daysname }</option>
<!--#endin getnextdays -->
</select >
</td>
</tr>
<tr>
<td align="right" nowrap><a class="BabDialogLink" href="{ dateend }">{ dateendtxt }</a>:</td>
<td>
<select name="dayend">
<!--#in getnextday -->
<option value="{ dayid }" { selected }>{ dayid }</option>
<!--#endin getnextday -->
</select>
</td>
<td>
<select name="monthend" onChange="updateDates(this.form.dayend, this.form.monthend, this.form.yearend);">
<!--#in getnextmonth -->
<option value="{ monthid }" { selected }>{ monthname }</option>
<!--#endin getnextmonth -->
</select>
</td>
<td>
<select name="yearend" onChange="updateDates(this.form.dayend, this.form.monthend, this.form.yearend);">
<!--#in getnextyear -->
<option value="{ yearid }"  { selected }>{ yearidval }</option>
<!--#endin getnextyear -->
</select>
</td>
</tr>
<tr>
<td align="right">{ title }:</td>
<td colspan="4"><input type="text" name="title" size="60" maxlength="255"></td>
</tr>
<tr>
<tr>
<td align="right">{ description }</td>
<td colspan="4"><textarea cols="40" rows="5" name="description"></textarea></td>
</tr>

<!--#if bcategory "== 1" -->
<tr>
<td align="right">{ category }</td>
<td colspan="4">
<select name="category">
<option value="" selected ></option>
<!--#in getnextcat -->
<option value="{ catid }">{ catname }</option>
<!--#endin getnextcat -->
</select>
</td>
</tr>
<!--#endif bcategory -->


<tr>
<td align="right" nowrap>&nbsp;</td>
<td colspan="4"><input type="submit" name="Submit" value="{ addvac }"></td>
</tr>
</table>
</center>
</form>
</td></tr>
</table>
</center>
<!--#end newevent -->
<br><br><br><br><br>
<!--#begin modifyevent -->
<SCRIPT LANGUAGE="JavaScript">
<!--
function updateDates(elemDay, elemMonth, elemYear)
{
	timeA = new Date(elemYear.options[elemYear.selectedIndex].text, elemMonth.options[elemMonth.selectedIndex].value,1);
	timeDifference = timeA - 86400000;
	timeB = new Date(timeDifference);
	var daysInMonth = timeB.getDate();
	for (var i = 0; i < elemDay.length; i++)
	{
	elemDay.options[0] = null;
	}
	for (var i = 0; i < daysInMonth; i++)
	{
	elemDay.options[i] = new Option(i+1);
	}
	elemDay.options[0].selected = true;
}


function Start(page)
{
	var dummy;
	OpenWin = this.open(page, "CalendarWindow", "width=250,height=250,status=no,resizable=no,top=200,left=200");
}

function dateBegin(day, month, year)
{
	document.vacform.elements['daybegin'].options[day-1].selected = true;
	document.vacform.elements['monthbegin'].options[month-1].selected = true;
	document.vacform.elements['yearbegin'].options[year-{ yearmin }].selected = true;

}

function dateEnd(day, month, year)
{
	document.vacform.elements['dayend'].options[day-1].selected = true;
	document.vacform.elements['monthend'].options[month-1].selected = true;
	document.vacform.elements['yearend'].options[year-{ yearmin }].selected = true;

}
//-->
</SCRIPT>
<center>
<table border="0" width="90%" cellpadding="0" cellspacing="0">
<tr><td>
<form name="evtform" method="post" action="index.php" >
<input type="hidden" name="tg" value="event">
<input type="hidden" name="idx" value="modify">
<input type="hidden" name="calid" value="{ calid }">
<input type="hidden" name="evtid" value="{ evtid }">
<input type="hidden" name="modifyevent" value="modify">
<center>
<table class="BabDialogBgnd" width="50%" border="0" cellspacing="5" cellpadding="0">
<tr>
<td align="right" nowrap><a class="BabDialogLink" href="{ datebegin }">{ datebegintxt }</a>:</td>
<td>
<select name="daybegin">
<!--#in getnextday -->
<option value="{ dayid }" { selected }>{ dayid }</option>
<!--#endin getnextday -->
</select>
</td>
<td>
<select name="monthbegin" onChange="updateDates(this.form.daybegin, this.form.monthbegin, this.form.yearbegin);">
<!--#in getnextmonth -->
<option value="{ monthid }" { selected }>{ monthname }</option>
<!--#endin getnextmonth -->
</select>
</td>
<td>
<select name="yearbegin" onChange="updateDates(this.form.daybegin, this.form.monthbegin, this.form.yearbegin);">
<!--#in getnextyear -->
<option value="{ yearid }"  { selected }>{ yearidval }</option>
<!--#endin getnextyear -->
</select>
</td>
</tr>
<tr>
<td align="right" nowrap><a class="BabDialogLink" href="{ dateend }">{ dateendtxt }</a>:</td>
<td>
<select name="dayend">
<!--#in getnextday -->
<option value="{ dayid }" { selected }>{ dayid }</option>
<!--#endin getnextday -->
</select>
</td>
<td>
<select name="monthend" onChange="updateDates(this.form.dayend, this.form.monthend, this.form.yearend);">
<!--#in getnextmonth -->
<option value="{ monthid }" { selected }>{ monthname }</option>
<!--#endin getnextmonth -->
</select>
</td>
<td>
<select name="yearend" onChange="updateDates(this.form.dayend, this.form.monthend, this.form.yearend);">
<!--#in getnextyear -->
<option value="{ yearid }"  { selected }>{ yearidval }</option>
<!--#endin getnextyear -->
</select>
</td>
</tr>
<tr>
<td align="right" nowrap>{ from }</td>
<td>
<select name="timebegin">
<!--#in getnexttime -->
<option value="{ time }" { selected }>{ time }</option>
<!--#endin getnexttime -->
</select >
</td>
<td align="right" nowrap>{ to }</td>
<td>
<select name="timeend">
<!--#in getnexttime -->
<option value="{ time }" { selected }>{ time }</option>
<!--#endin getnexttime -->
</select >
</td>
</tr>
<tr>
<td align="right">{ title }:</td>
<td colspan="4"><input type="text" name="title" size="60" maxlength="255" value="{ evtarr[title] }"></td>
</tr>
<tr>
<tr>
<td align="right">{ description }</td>
<td colspan="4"><textarea cols="40" rows="5" name="description">{ evtarr[description] }</textarea></td>
</tr>
<!--#if bcategory "== 1" -->
<tr>
<td align="right">{ category }</td>
<td colspan="4">
<select name="category">
<option value="" selected ></option>
<!--#in getnextcat -->
<option value="{ catid }" { selected }>{ catname }</option>
<!--#endin getnextcat -->
</select>
</td>
</tr>
<!--#endif bcategory -->
<tr>
<td align="right" nowrap>&nbsp;</td>
<td colspan="4"><input type="submit" name="Submit" value="{ modify }"></td>
</tr>
</table>
</center>
</form>
</td></tr>
</table>
</center>
<!--#end modifyevent -->
<br><br><br><br><br>
<!--#begin viewevent -->
<center>
<table border="0" width="90%" cellpadding="0" cellspacing="0">
<tr><td>
<center>
<table class="BabDialogBgnd" width="50%" border="0" cellspacing="5" cellpadding="0">
<tr>
<td align="right" nowrap><b>{ titlename }</b></td>
<td>{ title }</td>
</tr>
<tr>
<td align="right" nowrap><b>{ startdatename }</b></td>
<td>{ startdate }</td>
</tr>
<tr>
<td align="right" nowrap><b>{ enddatename }</b></td>
<td>{ enddate }</td>
</tr>
<tr>
<td align="right" nowrap><b>{ descriptionname }</b></td>
<td><span>{ description }</span></td>
</tr>
</table>
</center>
</td></tr>
</table>
</center>
<!--#end viewevent -->
<br><br><br><br><br>
</BODY>
</HTML>
