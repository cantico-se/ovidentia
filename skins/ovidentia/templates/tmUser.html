<!--#begin displayProjectList -->
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
	<tr> 
		<td align="center" valign="middle" class="BabLoginCadreBackground"> 
			<table width="100%" border="0" cellspacing="0" cellpadding="2" align="center">
				<tr class="BabSiteAdminTitleFontBackground"> 
					<td width="20%">{ m_captions[name] }</td>
					<td width="40%">{ m_captions[description] }</td>
					<td width="40%" align="center">&nbsp;</td>
				</tr>
				<!--#in nextItem -->
				
			<!--#if m_is_altbg -->
				<tr class="BabSiteAdminFontBackground"> 
			<!--#else m_is_altbg -->
				<tr class="BabForumBackground1">
			<!--#endif m_is_altbg -->
	
				<!--#if m_datas[isLink] -->
					<td><a href="{ m_datas[url] }{ m_datas[id] }">{ m_datas[name] }</a></td>
				<!--#else m_datas[isLink] -->
					<td>{ m_datas[name] }</td>
				<!--#endif m_datas[isLink] -->

					<td>{ m_datas[description] }</td>
					<td>
						<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
						<!--#if m_datas[bIsRightUrl] -->
							<tr>
								<td>
									<a href="{ m_datas[rightsUrl] }" title="{ m_captions[rights] }">
										{ m_captions[rights] }
									</a>
								</td>
							</tr>
						<!--#endif m_datas[bIsRightUrl] -->
						<!--#if m_datas[bIsManager] -->
							<tr>
								<td>
									<a href="{ m_datas[configurationUrl] }" title="{ m_captions[configuration] }">
										{ m_captions[configuration] }
									</a>
								</td>
							</tr>
							<tr>
								<td>
									<a href="{ m_datas[commentaryUrl] }" title="{ m_captions[commentary] }">
										{ m_captions[commentary] }
									</a>
								</td>
							</tr>
							<tr>
								<td>
									<a href="{ m_datas[taskUrl] }" title="{ m_captions[task] }">
										{ m_captions[task] }
									</a>
								</td>
							</tr>
						<!--#endif m_datas[bIsManager] -->
							<tbody><tr><td></td></tr></tbody>
						</table>
					</td>
				</tr>
				<!--#endin nextItem -->
			</table>
		</td>
	</tr>
</table>
<!--#end displayProjectList -->

<!--#begin commentariesList -->
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
	<tr> 
		<td align="center" valign="middle" class="BabLoginCadreBackground"> 
			<table width="100%" border="0" cellspacing="0" cellpadding="2" align="center">
				<tr class="BabSiteAdminTitleFontBackground"> 
					<td width="50%">{ m_captions[commentary] }</td>
					<td width="20%">{ m_captions[date] }</td>
					<td width="30%" align="center">&nbsp;</td>
				</tr>
				<!--#in nextCommentary -->
				
			<!--#if m_is_altbg -->
				<tr class="BabSiteAdminFontBackground"> 
			<!--#else m_is_altbg -->
				<tr class="BabForumBackground1">
			<!--#endif m_is_altbg -->
	
				<!--#if m_datas[isLink] -->
					<td><a href="{ m_datas[url] }{ m_datas[id] }">{ m_datas[commentary] }</a></td>
				<!--#else m_datas[isLink] -->
					<td>{ m_datas[commentary] }</td>
				<!--#endif m_datas[isLink] -->
					<td>{ m_datas[created] }</td>
					<td>
						<table border="0" cellspacing="0" cellpadding="2" align="center">
							<!--#in getNextAnchor -->
							<tr>
								<td class="{ m_datas[className] }">
									<a href="{ m_anchorItem[href] }" title="{ m_anchorItem[title] }">
										{ m_anchorItem[title] }
									</a>
								</td>
							</tr>
							<!--#endin getNextAnchor -->
							<tbody><tr><td></td></tr></tbody>
						</table>
					</td>
				</tr>
				<!--#endin nextCommentary -->
			</table>
		</td>
	</tr>
</table>
<!--#end commentariesList -->

<!--#begin displayCommentary -->
<script type="text/javascript" language="JavaScript1.5">
<!--
function on_btn_clicked(idx, action)
{
	var form = document.forms.displayCommentary;

	form.idx.value = idx;
	form.action.value = action;
}

function submit_form()
{
	return true;
}//-->
</script>
<style type="text/css">
	@import url('{ babInstallPath }/styles/taskManager.css');
</style>
<form name ="displayCommentary" method="post" action="{ babPhpSelf }" onsubmit="return(submit_form())">
	<input type="hidden" name="tg" value="{ m_datas[tg] }" />
	<input type="hidden" name="idx" value="" />
	<input type="hidden" name="action" value="" />
	<input type="hidden" name="iIdProjectSpace" value="{ m_datas[iIdProjectSpace] }" />
	<input type="hidden" name="iIdProject" value="{ m_datas[iIdProject] }" />
	<input type="hidden" name="iIdTask" value="{ m_datas[iIdTask] }" />
	<input type="hidden" name="iIdCommentary" value="{ m_datas[iIdCommentary] }" />

	<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
		<tr> 
			<td class="BabLoginCadreBackground"> 
				<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="2" align="center">
					<tr> 
						<td align="center"><textarea id="commentary" name="sCommentary" cols="20" rows="20">{ m_datas[commentary] }</textarea></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<br />
<div align="center">
<!--#if m_datas[iIdCommentary] "== 0" -->
	<input type="submit" value="{ m_captions[add] }" onclick="on_btn_clicked('{ m_datas[addIdx] }', '{ m_datas[addAction] }')" />
<!--#else m_datas[iIdCommentary] -->
	<input type="submit" value="{ m_captions[modify] }" onclick="on_btn_clicked('{ m_datas[modifyIdx] }', '{ m_datas[modifyAction] }')" />
	<input type="submit" value="{ m_captions[delete] }" onclick="on_btn_clicked('{ m_datas[delIdx] }', '{ m_datas[delAction] }')" />
<!--#endif m_datas[iIdCommentary] -->
</div>
</form>
<!--#end displayCommentary -->


<!--#begin projectForm -->
<script type="text/javascript">
<!--
function on_btn_clicked(idx, action)
{
	var form = document.forms.projectForm;

	form.idx.value = idx;
	form.action.value = action;
}

function submit_form()
{
	return true;
}
//-->
</script>

<form name="projectForm" method="post" action="{ babPhpSelf }" onsubmit="return(submit_form())">
	<input type="hidden" name="tg" value="{ m_datas[tg] }" />
	<input type="hidden" name="idx" value="" />
	<input type="hidden" name="action" value="" />
	<input type="hidden" name="iIdProjectSpace" value="{ m_datas[iIdProjectSpace] }" />
	<input type="hidden" name="iIdProject" value="{ m_datas[iIdProject] }" />

	<table width="85%" border="0" cellspacing="0" cellpadding="2" align="center">
		<tr> 
			<td class="BabLoginCadreBackground">
				<table width="100%" border="0" cellspacing="0" cellpadding="2" align="center" class="BabLoginMenuBackground">
					<tr> 
						<td>
							{ m_captions[sName] }
						</td>
						<td>
							<input type="text" name="sName" size="25" maxlength="255" value="{ m_datas[sName] }" />
						</td>
					</tr>

					<tr> 
						<td>
							{ m_captions[sDescription] }
						</td>
						<td>
							<textarea name="sDescription" cols="50" rows="10">{ m_datas[sDescription] }</textarea>
						</td>
					</tr>

					<tr> 
						<td colspan="2">
							<br />
						</td>
					</tr>

					<tr>
						<td colspan="2" align="center">
						
						<!--#if m_datas[iIdProject] "== 0" -->
							<input type="submit" value="{ m_captions[add] }" onclick="on_btn_clicked('{ m_datas[add_idx] }', '{ m_datas[add_action] }')" />
						<!--#else m_datas[iIdProject] -->
							<input type="submit" value="{ m_captions[modify] }" onclick="on_btn_clicked('{ m_datas[modify_idx] }', '{ m_datas[modify_action] }')" />
							<!--#if m_datas[bIsDeletable] -->
								<input type="submit" value="{ m_captions[delete] }" onclick="on_btn_clicked('{ m_datas[delete_idx] }', '{ m_datas[delete_action] }')" />
							<!--#endif m_datas[bIsDeletable] -->
						<!--#endif m_datas[iIdProject] -->

						</td>
					</tr>

					<tr> 
						<td colspan="2">
							<br />
						</td>
					</tr>

				</table>
			</td>
		</tr>
	</table>
</form>
<!--#end projectForm -->

<!--#begin taskList -->
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
	<tr> 
		<td align="center" valign="middle" class="BabLoginCadreBackground"> 
			<table width="100%" border="0" cellspacing="0" cellpadding="2" align="center">
				<tr class="BabSiteAdminTitleFontBackground"> 
					<td width="10%">{ m_captions[taskNumber] }</td>
					<td width="50%">{ m_captions[description] }</td>
					<td width="10%">{ m_captions[date] }</td>
					<td width="30%" align="center">&nbsp;</td>
				</tr>
				<!--#in nextTask -->
				
			<!--#if m_is_altbg -->
				<tr class="BabSiteAdminFontBackground"> 
			<!--#else m_is_altbg -->
				<tr class="BabForumBackground1">
			<!--#endif m_is_altbg -->
	
				<!--#if m_datas[isLink] -->
					<td><a href="{ m_datas[url] }{ m_datas[id] }">{ m_datas[description] }</a></td>
				<!--#else m_datas[isLink] -->
					<td>{ m_datas[description] }</td>
				<!--#endif m_datas[isLink] -->
					<td>{ m_datas[created] }</td>
					<td>
						<table border="0" cellspacing="0" cellpadding="2" align="center">
							<!--#in getNextAnchor -->
							<tr>
								<td class="{ m_datas[className] }">
									<a href="{ m_anchorItem[href] }" title="{ m_anchorItem[title] }">
										{ m_anchorItem[title] }
									</a>
								</td>
							</tr>
							<!--#endin getNextAnchor -->
							<tbody><tr><td></td></tr></tbody>
						</table>
					</td>
				</tr>
				<!--#endin nextTask -->
			</table>
		</td>
	</tr>
</table>
<!--#end taskList -->

<!--#begin taskForm -->
<script type="text/javascript">
<!--
function on_btn_clicked(idx, action)
{
	var form = document.forms.taskForm;

	form.idx.value = idx;
	form.action.value = action;
}

function submit_form()
{
	return true;
}

function onMenuSelected(oSelectedLi)
{
	var form = document.forms.taskForm;
	
	oSelectedLi.className = 'current';
	
	form
}

function date()
{
	bab_dialog.selectdate(function(aDate){})
}

function onClassChanged(oSelect)
{
	var TASK = 0;
	var CHECKPOINT = 1;
	var TODO = 2;
	
	var iType = parseInt(oSelect.options[oSelect.selectedIndex].value);
	
	var oTrTaskType = document.getElementById("sTaskType");
	var oTrDuration = document.getElementById("sDuration");
	var oTrStartDate = document.getElementById("sStartDate");
	var oTrEndDate = document.getElementById("sEndDate");
	
	switch(iType)
	{
		case TASK:
		{
			alert('TASK');
			/*
			if(null != oTrTaskType) oTrTaskType.style.display = '';
			if(null != oTrDuration) oTrDuration.style.display = '';
			if(null != oTrStartDate) oTrStartDate.style.display = '';
			if(null != oTrEndDate) oTrEndDate.style.display = '';
			//*/
			if(null != oTrTaskType)
			{
				oTrTaskType.style.display = '';
				var oSelectTaskType = document.getElementById("iTaskTypeee");
				
				if(null != oSelectTaskType)	
				{
					onTaskTypeChanged(oSelectTaskType);
				}
				else
				{
					alert('oSelectTaskType is NULL');
				}
			}
		}
		break;

		
		case CHECKPOINT:
		{
			alert('CHECKPOINT');
			if(null != oTrTaskType) oTrTaskType.style.display = 'none';
			if(null != oTrDuration) oTrDuration.style.display = 'none';
			if(null != oTrStartDate) oTrStartDate.style.display = 'none';
			if(null != oTrEndDate) oTrEndDate.style.display = '';
		}
		break;
			
		case TODO:
		{
			alert('TODO');
			if(null != oTrTaskType) oTrTaskType.style.display = 'none';
			if(null != oTrDuration) oTrDuration.style.display = 'none';
			if(null != oTrStartDate) oTrStartDate.style.display = 'none';
			if(null != oTrEndDate) oTrEndDate.style.display = '';
		}
		break;
	}
}

function onTaskTypeChanged(oSelect)
{
	var DURATION = 0;
	var DATE = 1;
	
	alert(oSelect/*.selectedIndex*/);

	var iDurationType = parseInt(oSelect.options[oSelect.selectedIndex].value);

	alert(iDurationType);
	
	var oTrDuration = document.getElementById("sDuration");
	var oTrStartDate = document.getElementById("sStartDate");
	var oTrEndDate = document.getElementById("sEndDate");

	switch(iDurationType)
	{
		case DURATION:
		{
			if(null != oTrDuration)
			{
				alert('!= NULL');
				oTrDuration.style.display = '';
			}
			else
			{
				alert('NULL');
			}
			alert('FFFFFFF');
			if(null != oTrStartDate) oTrStartDate.style.display = 'none';
			if(null != oTrEndDate) oTrEndDate.style.display = '';
		}
		break;
		
		case DATE:
		{
			if(null != oTrDuration) oTrDuration.style.display = 'none';
			if(null != oTrStartDate) oTrStartDate.style.display = '';
			if(null != oTrEndDate) oTrEndDate.style.display = '';
		}
		break;
	}
}
/*
function set_active_tab_changed(active_tab)
{
	var oLiInquiry = document.getElementById('li_inquiry');
	var oLiDepositary = document.getElementById('li_depositary');
	var oLiOtherFile = document.getElementById('li_other_file');

	oLiInquiry.className = '';
	oLiDepositary.className = '';
	oLiOtherFile.className = '';

	if({ m_datas[inquiry_tab] } == active_tab)
	{
		oLiInquiry.className = 'current';
	}
	else if({ m_datas[depositary_tab] } == active_tab)
	{
		oLiDepositary.className = 'current';
	}
	else if({ m_datas[other_file_tab] } == active_tab)
	{
		oLiOtherFile.className = 'current';
	}

	var form = document.forms.private_space;

	form.active_tab.value = active_tab;
}
*/


//-->
</script>

<script type="text/javascript" src="{ babInstallPath }scripts/bab_dialog.js"></script>


<style type="text/css">
	@import url('{ babInstallPath }styles/taskManager.css');
</style>

<form name="taskForm" method="post" action="{ babPhpSelf }" onsubmit="return(submit_form())">
	<input type="hidden" name="tg" value="{ m_datas[tg] }" />
	<input type="hidden" name="idx" value="" />
	<input type="hidden" name="action" value="" />
	<input type="hidden" name="iIdProjectSpace" value="{ m_datas[iIdProjectSpace] }" />
	<input type="hidden" name="iIdProject" value="{ m_datas[iIdProject] }" />
	<input type="hidden" name="sSelectedLiId" value="" />

	<br />
	<div>
		<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
			<tr> 
				<td>
					<label for="sTaskNumber">Number</label>
				</td>
				<td>
					<input name="sTaskNumber" type="text" value="" />
				</td>
			</tr>
			<tr> 
				<td>
					<label for="iClass">Type</label>
				</td>
				<td>
					<select name="iClass" onchange="onClassChanged(this)">
						<option value="0">Task</option>
						<option value="1">Checkpoint</option>
						<option value="2">ToDo</option>
					</select>
				</td>
			</tr>
			<tr> 
				<td>
					<label for="iIdCategory">Category</label>
				</td>
				<td>
					<select name="iIdCategory">
						<option selected="selected" value=""></option>
						<option value="">Personnel</option>
						<option value="">Professionnelle</option>
					</select>
				</td>
			</tr>
			
		</table>
	</div>
	<br />

	<ul id="tablist" width="95%" align="center">
		<li id="sMnuGeneral"><a class="" href="" onclick="onMenuSelected(this.parentNode);return false;">{ m_captions[general] }</a></li>
		<li id="sMnuPredecessors"><a class="" href="" onclick="onMenuSelected(this.parentNode);return false;">{ m_captions[predecessors] }</a></li>
		<li id="sMnuResources"><a class="" href="" onclick="onMenuSelected(this.parentNode);return false;">{ m_captions[resources] }</a></li>
		<li id="sMnuCommentaries"><a class="" href="" onclick="onMenuSelected(this.parentNode);return false;">{ m_captions[commentaries] }</a></li>
		<li id="sMnuSpfFld"><a class="" href="" onclick="onMenuSelected(this.parentNode);return false;">{ m_captions[spFld] }</a></li>
	</ul>						
	<br />

	<div id="sGeneral" class="">
		<table width="95%" border="1" cellspacing="2" cellpadding="2" align="center">
			<tr>
				<td colspan="2"><label for="sDescription">Description</label></td>
			</tr>
			<tr>
				<td colspan="2"><textarea name="sDescription" cols="50" rows="10">This is a desription</textarea></td>
			</tr>
			
			<tr id="sTaskType" class="">
				<td>
					<label for="iTaskType">Task type</label>
				</td>
				<td>
					<select name="iTaskTypeee" onchange="onTaskTypeChanged(this)">
						<option value="0">Duration</option>
						<option value="1">Date</option>
					</select>
				</td>
			</tr>

			<tr id="sDuration">
				<td>
					<label for="sDuration">Duration</label>
				</td>
				<td>
					<input type="text" name="sDuration" maxlength="20" value="" size="10" />
				</td>
			</tr>

			<tr id="sStartDate">
				<td>
					<label for="sStartDate">Start date</label>
				</td>
				<td>
					<input type="text" name="sStartDate" maxlength="20" value="" size="10" />
					<a href="javascript:date();">
						<img border="0" src="{ babInstallPath }skins/ovidentia/images/Puces/calendar.gif" alt="{ m_anchorItem[title] }" />
					</a>
				</td>
			</tr>
			
			<tr id="sEndDate">
				<td>
					<label for="sEndDate">End date</label>
				</td>
				<td>
					<input type="text" name="sEndDate" maxlength="20" value="" size="10" />
					<a href="javascript:date();">
						<img border="0" src="{ babInstallPath }skins/ovidentia/images/Puces/calendar.gif" alt="{ m_anchorItem[title] }" />
					</a>
				</td>
			</tr>
		</table>
	</div>
	
	<div id="sPredecessor" class="">
		<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
			<tr> 
				<td>Predecessor</td>
			</tr>
		</table>
	</div>
	
	<div id="sResources" class="">
		<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
			<tr> 
				<td>Resource</td>
			</tr>
		</table>
	</div>
	
	<div id="sCommentaries" class="">
		<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
			<tr> 
				<td>Commentaries</td>
			</tr>
		</table>
	</div>
	
	<div id="sSpfFld" class="">
		<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
			<tr> 
				<td>Specific fields</td>
			</tr>
		</table>
	</div>
	
</form>
<!--#end taskForm -->
