
<!--#begin adlist -->
<table border="0" width="95%" cellpadding="3" cellspacing="0" align="center">
<tr>
<td class="BabBodyTitleBackground" align="center" >{ ldaptitle }</td>
</tr></table>
<br>
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap ><b>{ directories }</b> </td>
<td class="BabSiteAdminTitleFontBackground" valign="middle" align="left" colspan="2"><b>&nbsp;{ desctxt }</b></td>
</tr>
<!--#in getnextldap -->
<!--#if altbg --><tr class="BabSiteAdminFontBackground"><!--#else altbg --><tr class="BabForumBackground1"><!--#endif altbg -->
<td valign="middle"><a class="BabSiteAdminListLink" href="{ url }">{ urlname }</a> </td>
<td align="left" valign="middle">&nbsp;{ description }</td>
<td align="left" valign="middle"><a class="BabSiteAdminListLink" href="{ gviewurl }">{ gview }</a></td>
</tr>
<!--#endin getnextldap -->
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap colspan="3"><a class="BabSiteAdminListLink" href="{ urladdldap }">{ add }</a></td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<table border="0" width="95%" cellpadding="3" cellspacing="0" align="center">
<tr>
<td class="BabBodyTitleBackground" align="center" >{ databasetitle }</td>
</tr></table>
<br>
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap ><b>{ directories }</b> </td>
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap ><b>{ grouptxt }</b> </td>
<td class="BabSiteAdminTitleFontBackground" valign="middle" align="left" colspan="2"><b>&nbsp;{ desctxt }</b></td>
</tr>
<!--#in getnextdb -->
<!--#if bshow "== Y" -->
<!--#if altbg --><tr class="BabSiteAdminFontBackground"><!--#else altbg --><tr class="BabForumBackground1"><!--#endif altbg -->
<td valign="middle"><a class="BabSiteAdminListLink" href="{ url }">{ urlname }</a></td>
<td align="left" valign="middle">&nbsp;{ group }</td>
<td align="left" valign="middle">&nbsp;{ description }</td>
<td align="left" valign="middle"><a class="BabSiteAdminListLink" href="{ grightsurl }">{ grights }</a></td>
</tr>
<!--#endif bshow -->
<!--#endin getnextdb -->
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap colspan="6"><a class="BabSiteAdminListLink" href="{ urladddb }">{ add }</a></td>
</tr>
</table>
</td>
</tr>
</table>
<!--#end adlist -->

<!--#begin ldapadd -->
<form name="adcreate" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="add" value="ldap">
<input type="hidden" name="ldap" value="Y">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ host }</td>
<td valign="middle">
<input type="text" name="host" size="30" value="{ vhost }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ basedn }</td>
<td valign="middle">
<input type="text" name="basedn" size="45" value="{ vbasedn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ userdn }</td>
<td valign="middle">
<input type="text" name="userdn" size="45" value="{ vuserdn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ password }</td>
<td valign="middle">
<input type="password" name="password1" size="30" value="">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ repassword }</td>
<td valign="middle">
<input type="password" name="password2" size="30" value="">
</td>
</tr>
<tr> 
<td nowrap>&nbsp;</td>
<td valign="middle">
<input type="submit" name="Submit" value="{ add }">
<br>
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<!--#end ldapadd -->

<!--#begin ldapmodify -->
<form name="admodify" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="modify" value="ldap">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ host }</td>
<td valign="middle">
<input type="text" name="host" size="30" value="{ vhost }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ basedn }</td>
<td valign="middle">
<input type="text" name="basedn" size="45" value="{ vbasedn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ userdn }</td>
<td valign="middle">
<input type="text" name="userdn" size="45" value="{ vuserdn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ password }</td>
<td valign="middle">
<input type="password" name="password1" size="30" value="">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ repassword }</td>
<td valign="middle">
<input type="password" name="password2" size="30" value="">
</td>
</tr>
<tr> 
<td nowrap>&nbsp;</td>
<td valign="middle">
<input type="submit" name="admod" value="{ add }">&nbsp;&nbsp;<input type="submit" name="delete" value="{ delete }">
<br>
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<!--#end ldapmodify -->

<!--#begin dbadd -->
<form name="adcreate" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="add" value="db">
<input type="hidden" name="ldap" value="N">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" width="20%" align="left" nowrap valign="middle">{ field }</td>
<td class="BabSiteAdminTitleFontBackground" width="50%" align="left" nowrap valign="middle">{ defaultvalue }</td>
<td class="BabSiteAdminTitleFontBackground" width="10%" align="left" nowrap valign="middle">{ rw }</td>
<td class="BabSiteAdminTitleFontBackground" width="10%" align="left" nowrap valign="middle">{ required }</td>
<td class="BabSiteAdminTitleFontBackground" width="10%" align="left" nowrap valign="middle">{ multilignes }</td>
</tr>
<!--#in getnextfield -->
<tr> 
<td class="BabSiteAdminFontBackground">{ fieldn }</td>
<td class="BabSiteAdminFontBackground"><input type="text" name="fields[{ fieldv }]" size="40" value=""></td>
<td class="BabSiteAdminFontBackground"><input type="checkbox" name="rw[]" { rwchecked } value="{ fieldid }"></td>
<!--#if disabled -->
<td class="BabSiteAdminFontBackground"><input type="checkbox" checked disabled><input type="hidden" name="req[]" value="{ fieldid }"></td>
<!--#else disabled -->
<td class="BabSiteAdminFontBackground"><input type="checkbox" name="req[]" { reqchecked } value="{ fieldid }"></td>
<!--#endif disabled -->
<td class="BabSiteAdminFontBackground"><input type="checkbox" name="ml[]" { mlchecked } value="{ fieldid }"></td>
</tr>
<!--#endin getnextfield -->
<tr>
<td valign="middle" colspan="4">
<center><input type="submit" name="Submit" value="{ add }"></center>
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<!--#end dbadd -->

<!--#begin dbmodify -->
<form name="admodify" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="modify" value="db">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<!--#if ballowuserupdate -->
<tr> 
<td align="right" nowrap valign="middle">{ allowuserupdate }</td>
<td valign="middle">
<select name="allowuu">
<option value="N" { noselected }>{ no }</option>
<option value="Y" { yesselected }>{ yes }</option>
</select>
</td>
</tr>
<!--#endif ballowuserupdate -->
</table>
</td>
</tr>
</table>
<br>
<!--#if bfields -->
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" width="20%" align="left" nowrap valign="middle">{ field }</td>
<td class="BabSiteAdminTitleFontBackground" width="50%" align="left" nowrap valign="middle">{ defaultvalue }</td>
<td class="BabSiteAdminTitleFontBackground" width="10%" align="left" nowrap valign="middle">{ rw }</td>
<td class="BabSiteAdminTitleFontBackground" width="10%" align="left" nowrap valign="middle">{ required }</td>
<td class="BabSiteAdminTitleFontBackground" width="10%" align="left" nowrap valign="middle">{ multilignes }</td>
</tr>
<!--#in getnextfield -->
<tr> 
<td class="BabSiteAdminFontBackground">{ fieldn }</td>
<td class="BabSiteAdminFontBackground"><input type="text" name="fields[{ fieldv }]" size="40" value="{ defvalue }"></td>
<td class="BabSiteAdminFontBackground"><input type="checkbox" name="rw[]" { rwchecked } value="{ fieldid }"></td>
<!--#if disabled -->
<td class="BabSiteAdminFontBackground"><input type="checkbox" checked disabled><input type="hidden" name="req[]" value="{ fieldid }"></td>
<!--#else disabled -->
<td class="BabSiteAdminFontBackground"><input type="checkbox" name="req[]" { reqchecked } value="{ fieldid }"></td>
<!--#endif disabled -->
<td class="BabSiteAdminFontBackground"><input type="checkbox" name="ml[]" { mlchecked } value="{ fieldid }"></td>
</tr>
<!--#endin getnextfield -->
</table>
</td>
</tr>
</table>
<br>
<!--#endif bfields -->
<center><input type="submit" name="admod" value="{ add }">&nbsp;&nbsp;
<!--#if bdel -->
<input type="submit" name="delete" value="{ delete }"></center>
<!--#endif bdel -->
</form>
<!--#end dbmodify -->
<!--#begin dbdisplay -->
<script language="JavaScript">
<!--
function move(bDir, el)
	{
	var idx = el.selectedIndex
	if (idx !=-1 && idx != 0) 
	{
		if( idx == 1 && bDir == true)
			return;
		if( idx == el.options.length-1 && bDir == false)
			return;
		var nxidx = idx + ( bDir ? - 1 : 1)
		if ( nxidx<0 )
			nxidx=el.length-1
		if ( nxidx>=el.length) nxidx=0
		var oldVal = el[idx].value
		var oldText = el[idx].text
		el[idx].value = el[nxidx].value
		el[idx].text = el[nxidx].text
		el[nxidx].value = oldVal
		el[nxidx].text = oldText
		el.selectedIndex = nxidx
	}
}

function moveOptions(src,dest)
{	 
	srclen = src.options.length;
	reslen = dest.options.length + srclen;
	resopt = new Array(reslen);
	destcnt = 1;
	rescnt = 1;
	nbsel = 0;
	resopt[0] = new Option(dest.options[0].text,dest.options[0].value);
	while(destcnt < dest.options.length)
	{
		resopt[rescnt] = new Option(dest.options[destcnt].text,dest.options[destcnt].value);
		destcnt++;
		rescnt++;
	}
	for(i = 1; i < srclen; i++)
	{
		while((i < srclen) && (src.options[i].selected == false))
			i++;
		if(i < srclen)
		{
			if(src.options[i].value != src.options[0].value)
			{
				nbsel++;
				resopt[rescnt] = new Option(src.options[i].text,src.options[i].value);
				src.options[i] = null;
				i--;
				srclen--;
				rescnt++;
			}
		}
	}
	dest.options[0] = null;
	dest.options[0] = resopt[0];
	
	for(i=0; i < nbsel;i++)
	{
		dest.options[i+1] = null;
		dest.options[i+1] = resopt[rescnt - nbsel + i];
	}

	for(i=0; i < rescnt - nbsel - 1; i++)
	{
		dest.options[nbsel + 1 + i] = null;
		dest.options[nbsel + 1 + i] = resopt[i + 1];
	}
}

function selectAll(list)
{
	list.options[0].selected = false;
	for(i=1; i < list.options.length; i++)
	{
		list.options[i].selected = true;
	}
}
//-->
</script>
<form method="post" name="dispdbf" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="dispdb">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="update" value="displaydb">

<table  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td align="center" nowrap valign="middle" colspan="2"> 
<select name="listfields1"  size="12" multiple>
  <option value="0">{ listftxt }</option>
  <!--#in getnextf --> 
  <option value="{ fid }">{ fieldval }</option>
  <!--#endin getnextf --> 
</select>
</td>
</tr>
<tr> 
<td align="center"><a href="Javascript:moveOptions(document.dispdbf.listfields1,document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoHandDown.gif" width="20" height="24" border=0 alt="Down"></a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Javascript:moveOptions(document.dispdbf.elements[5],document.dispdbf.listfields1)" ><img src="{ babSkinPath }images/Puces/PuceGoHandTop.gif" width="20" height="24" border=0 alt="Up"></a></td>
<td>&nbsp;</td>
</tr>
<tr valign="middle"> 
<td align="center"> 
<select name="listfd[]"  size=12 multiple>
  <option value="0">{ listdftxt }</option>
  <!--#in getnextdf --> 
  <option value="{ fid }">{ fieldval }</option>
  <!--#endin getnextdf --> 
</select>
</td>
<td align="center" ><a href="Javascript:move(true, document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" width="22" height="18" border=0 alt="{ moveup }"></a> 
<br>
<br>
<a href="Javascript:move(false, document.dispdbf.elements[5])"> 
<img src="{ babSkinPath }images/Puces/PuceGoDown.gif" width="22" height="18" border=0 alt="{ movedown }"></a> 
</td>
</tr>
<tr valign="middle"> 
<td align="center"> 
<input type="submit" name="Submit" value="{ update }" onClick="Javascript:selectAll(document.dispdbf.elements[5]); document.dispdbf.submit()">
<br>
<br>
</td>
<td>&nbsp; 
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<br>
<!--#end dbdisplay -->