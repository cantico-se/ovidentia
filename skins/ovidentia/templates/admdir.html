
<!--#begin adlist -->
<table border="0" width="95%" cellpadding="3" cellspacing="0" align="center">
<tr>
<td class="BabLoginMenuBackground" align="center" >{ ldaptitle }</td>
</tr></table>
<br>
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap ><b>{ directories }</b> </td>
<td class="BabSiteAdminTitleFontBackground" valign="middle" align="left" colspan="2"><b>&nbsp;{ desctxt }</b></td>
</tr>
<!--#in getnextldap -->
<!--#if altbg --><tr class="BabSiteAdminFontBackground"><!--#else altbg --><tr class="BabForumBackground1"><!--#endif altbg -->
<td valign="middle"><a class="BabSiteAdminListLink" href="{ url }">{ urlname }</a> </td>
<td align="left" valign="middle">&nbsp;{ description }</td>
<td align="left" valign="middle"><a class="BabSiteAdminListLink" href="{ gviewurl }">{ gview }</a></td>
</tr>
<!--#endin getnextldap -->
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap colspan="3"><a class="BabSiteAdminListLink" href="{ urladdldap }">{ add }</a></td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<table border="0" width="95%" cellpadding="3" cellspacing="0" align="center">
<tr>
<td class="BabLoginMenuBackground" align="center" >{ databasetitle }</td>
</tr></table>
<br>
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap ><b>{ directories }</b> </td>
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap ><b>{ grouptxt }</b> </td>
<td class="BabSiteAdminTitleFontBackground" valign="middle" align="left" colspan="2"><b>&nbsp;{ desctxt }</b></td>
</tr>
<!--#in getnextdb -->
<!--#if bshow "== Y" -->
<!--#if altbg --><tr class="BabSiteAdminFontBackground"><!--#else altbg --><tr class="BabForumBackground1"><!--#endif altbg -->
<td valign="middle"><a class="BabSiteAdminListLink" href="{ url }">{ urlname }</a></td>
<td align="left" valign="middle">&nbsp;{ group }</td>
<td align="left" valign="middle">&nbsp;{ description }</td>
<td align="left" valign="middle"><a class="BabSiteAdminListLink" href="{ grightsurl }">{ grights }</a></td>
</tr>
<!--#endif bshow -->
<!--#endin getnextdb -->
<tr> 
<td class="BabSiteAdminTitleFontBackground" valign="middle" nowrap colspan="6"><a class="BabSiteAdminListLink" href="{ urladddb }">{ add }</a></td>
</tr>
</table>
</td>
</tr>
</table>
<!--#end adlist -->

<!--#begin ldapadd -->
<form name="adcreate" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="add" value="ldap">
<input type="hidden" name="ldap" value="Y">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ host }</td>
<td valign="middle">
<input type="text" name="host" size="30" value="{ vhost }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ servertypetxt }</td>
<td valign="middle">
<select name="servertype">
<!--#in getnextservertype --> 
<option value="{ stid }" { selected }>{ stval }</option>
<!--#endin getnextservertype --> 
</select>
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ decodetypetxt }</td>
<td valign="middle">
<select name="decodetype">
<!--#in getnextdecodetype --> 
<option value="{ stid }" { selected }>{ stval }</option>
<!--#endin getnextdecodetype --> 
</select>
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ basedn }</td>
<td valign="middle">
<input type="text" name="basedn" size="45" value="{ vbasedn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ userdn }</td>
<td valign="middle">
<input type="text" name="userdn" size="45" value="{ vuserdn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ password }</td>
<td valign="middle">
<input type="password" name="password1" size="30" value="">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ repassword }</td>
<td valign="middle">
<input type="password" name="password2" size="30" value="">
</td>
</tr>
<tr> 
<td nowrap>&nbsp;</td>
<td valign="middle">
<input type="submit" name="Submit" value="{ add }">
<br>
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<!--#end ldapadd -->

<!--#begin ldapmodify -->
<form name="admodify" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="modify" value="ldap">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ servertypetxt }</td>
<td valign="middle">
<select name="servertype">
<!--#in getnextservertype --> 
<option value="{ stid }" { selected }>{ stval }</option>
<!--#endin getnextservertype --> 
</select>
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ decodetypetxt }</td>
<td valign="middle">
<select name="decodetype">
<!--#in getnextdecodetype --> 
<option value="{ stid }" { selected }>{ stval }</option>
<!--#endin getnextdecodetype --> 
</select>
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ host }</td>
<td valign="middle">
<input type="text" name="host" size="30" value="{ vhost }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ basedn }</td>
<td valign="middle">
<input type="text" name="basedn" size="45" value="{ vbasedn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ userdn }</td>
<td valign="middle">
<input type="text" name="userdn" size="45" value="{ vuserdn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ password }</td>
<td valign="middle">
<input type="password" name="password1" size="30" value="">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ repassword }</td>
<td valign="middle">
<input type="password" name="password2" size="30" value="">
</td>
</tr>
<tr> 
<td nowrap>&nbsp;</td>
<td valign="middle">
<input type="submit" name="admod" value="{ add }">&nbsp;&nbsp;<input type="submit" name="delete" value="{ delete }">
<br>
</td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<!--#end ldapmodify -->

<!--#begin dbadd -->
<form name="adcreate" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="add" value="db">
<input type="hidden" name="ldap" value="N">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td width="30%" align="right" nowrap valign="middle">{ name }</td>
<td width="70%" valign="middle">
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ displayinfoupdate }?</td>
<td valign="middle">
<select name="displayiu">
<option value="N" selected="selected">{ no }</option>
<option value="Y">{ yes }</option>
</select>
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
	<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
	<tr class="BabSiteAdminTitleFontBackground"> 
		<td width="20%" align="left" nowrap valign="middle">{ field }</td>
		<td width="50%" align="left" nowrap valign="middle">{ defaultvalue }</td>
		<td width="10%" align="left" nowrap valign="middle">{ disabledtxt }</td>
		<td width="10%" align="left" nowrap valign="middle">{ rw }</td>
		<td width="10%" align="left" nowrap valign="middle">{ required }</td>
		<td width="10%" align="left" nowrap valign="middle">{ multilignes }</td>
	</tr>
	<!--#in getnextfield -->
	<tr class="BabSiteAdminFontBackground"> 
		<td>{ fieldn }</td>
		<td><input type="text" name="fields[{ fieldv }]" size="40" value=""></td>
		<!--#if disabled -->
		<td><input type="checkbox" disabled></td>
		<!--#else disabled -->
		<td><input type="checkbox" name="dz[]" { dzchecked } value="{ fieldid }"></td>
		<!--#endif disabled -->
		<td><input type="checkbox" name="rw[]" { rwchecked } value="{ fieldid }"></td>
		<!--#if disabled -->
		<td><input type="checkbox" checked disabled><input type="hidden" name="req[]" value="{ fieldid }"></td>
		<!--#else disabled -->
		<td><input type="checkbox" name="req[]" { reqchecked } value="{ fieldid }"></td>
		<!--#endif disabled -->
		<td><input type="checkbox" name="ml[]" { mlchecked } value="{ fieldid }"></td>
	</tr>
	<!--#endin getnextfield -->
	<tr class="BabSiteAdminTitleFontBackground">
		<td valign="middle" colspan="6">
		<center><input type="submit" name="Submit" value="{ add }"></center>
		</td>
	</tr>
	</table>
</td>
</tr>
</table>
</form>
<!--#end dbadd -->

<!--#begin dbmodify -->
<form name="admodify" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="modify" value="db">
<table class="BabLoginCadreBackground"  width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td align="right">{ name }</td>
<td>
<input type="text" name="adname" size="30" value="{ vname }">
</td>
</tr>
<tr> 
<td align="right">{ description }</td>
<td valign="middle">
<input type="text" name="description" size="45" value="{ vdescription }">
</td>
</tr>
<tr> 
<td align="right">{ displayinfoupdate }?</td>
<td valign="middle">
<select name="displayiu">
<option value="N" { noduselected }>{ no }</option>
<option value="Y" { yesduselected }>{ yes }</option>
</select>
</td>
</tr>
<!--#if ballowuserupdate -->
<tr> 
<td align="right">{ allowuserupdate }</td>
<td valign="middle">
<select name="allowuu">
<option value="N" { noselected }>{ no }</option>
<option value="Y" { yesselected }>{ yes }</option>
</select>
</td>
</tr>
<!--#endif ballowuserupdate -->
</table>
</td>
</tr>
</table>
<br>
<!--#if bfields -->
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
	<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center" id="bab_directory_fields_list">
	<tr class="BabSiteAdminTitleFontBackground"> 
		<td width="20%">{ field }</td>
		<td width="50%">{ defaultvalue }</td>
		<td width="10%">{ disabledtxt }</td>
		<td width="10%">{ rw }</td>
		<td width="10%">{ required }</td>
		<td width="10%">{ multilignes }</td>
	</tr>
	<!--#in getnextfield -->
	<!--#if altbg -->
	<tr class="BabSiteAdminFontBackground">
	<!--#else altbg -->
	<tr class="BabForumBackground1">
	<!--#endif altbg -->
		<td>
		<!--#if addvalurl -->
		<a class="BabSiteAdminListLink" href="javascript: bab_popup('{ addvalurl }',2);">{ fieldn }</a>
		<!--#else addvalurl -->
		{ fieldn }
		<!--#endif addvalurl -->
		</td>
		<td>{ defvalue }</td>
		<!--#if disabled -->
		<td><input type="checkbox" disabled></td>
		<!--#else disabled -->
		<td><input type="checkbox" name="dz[]" { dzchecked } value="{ fieldid }" style="vertical-align:middle" /></td>
		<!--#endif disabled -->
		<td><input type="checkbox" name="rw[]" { rwchecked } value="{ fieldid }" onclick="setDirFieldModifiable(this);" style="vertical-align:middle" />
		
			&nbsp; 
		
			<a href="{ fieldrights_url }" title="{ fieldrights_title }">
				<!--#if fncount -->
				<img src="{ imgrights_url2 }" border="0" alt="{ fieldrights_title }" align="middle"  />
				<!--#else fncount -->
				<img src="{ imgrights_url }" border="0" alt="{ fieldrights_title }" align="middle"  />
				<!--#endif fncount -->
			</a>
		
		</td>
		<!--#if disabled -->
		<td><input type="checkbox" checked disabled><input type="hidden" name="req[]" value="{ fieldid }" style="vertical-align:middle" /></td>
		<!--#else disabled -->
		<td><input type="checkbox" name="req[]" { reqchecked } value="{ fieldid }" style="vertical-align:middle" /></td>
		<!--#endif disabled -->
		<td><input type="checkbox" name="ml[]" { mlchecked } value="{ fieldid }" style="vertical-align:middle" /></td>
	</tr>
	<!--#endin getnextfield -->
	<!--#in getnextfieldx -->
	<!--#if altbg -->
	<tr class="BabSiteAdminFontBackground">
	<!--#else altbg -->
	<tr class="BabForumBackground1">
	<!--#endif altbg -->
		<td>
			<!--#if addvalurl -->
			<a class="BabSiteAdminListLink" href="javascript: bab_popup('{ addvalurl }',2);">{ fieldn }</a>
			<!--#else addvalurl -->
			{ fieldn }
			<!--#endif addvalurl -->
		</td>
		<td>{ defvalue }</td>
		<!--#if disabled -->
		<td><input type="checkbox" disabled></td>
		<!--#else disabled -->
		<td><input type="checkbox" name="dz[]" { dzchecked } value="{ fieldid }" style="vertical-align:middle" /></td>
		<!--#endif disabled -->
		<td>
			<input type="checkbox" name="rw[]" { rwchecked } value="{ fieldid }" onclick="setDirFieldModifiable(this);" style="vertical-align:middle" />
			
			&nbsp; 
		
			<a href="{ fieldrights_url }" title="{ fieldrights_title }">
				<!--#if fncount -->
				<img src="{ imgrights_url2 }" border="0" alt="{ fieldrights_title }" align="middle"  />
				<!--#else fncount -->
				<img src="{ imgrights_url }" border="0" alt="{ fieldrights_title }" align="middle"  />
				<!--#endif fncount -->
			</a>
		</td>
		<!--#if disabled -->
		<td><input type="checkbox" checked disabled><input type="hidden" name="req[]" value="{ fieldid }" style="vertical-align:middle" /></td>
		<!--#else disabled -->
		<td><input type="checkbox" name="req[]" { reqchecked } value="{ fieldid }" style="vertical-align:middle"></td>
		<!--#endif disabled -->
		<td><input type="checkbox" name="ml[]" { mlchecked } value="{ fieldid }" style="vertical-align:middle"></td>
	</tr>
	<!--#endin getnextfieldx -->
	<tr class="BabSiteAdminTitleFontBackground">
		<td colspan="6" align="right"><a class="BabSiteAdminListLink" href="javascript: bab_popup('{ addfurl }',2);">{ addftxt }</a></td>
	</tr>
	</table>
</td>
</tr>
</table>

<script type="text/javascript">

function setDirFieldModifiable(checkbox)
{
	var a = checkbox;
	do a = a.nextSibling;
	while (a && a.nodeType != 1);	
	
	if (checkbox.checked)
	{
		a.style.display = 'none';
	} else {
		a.style.display = 'inline';
	}
}


bab_initFunctions.push(function() {
	var inputs = document.getElementById('bab_directory_fields_list').getElementsByTagName('input');
	for (var i=0; i < inputs.length; i++)
	{
		if ('checkbox' == inputs[i].getAttribute("type") && 'rw[]' == inputs[i].getAttribute("name"))
		{
			setDirFieldModifiable(inputs[i]);
		}
	}
});

</script>


<br>
<div align="center">
<!--#endif bfields -->
<input type="submit" name="admod" value="{ add }">&nbsp;&nbsp;
<!--#if bdel -->
<input type="submit" name="delete" value="{ delete }">
<!--#endif bdel -->
</div>
</form>
<!--#end dbmodify -->
<!--#begin dbscripts -->
<script language="JavaScript">
<!--
function move(bDir, el)
	{
	var idx = el.selectedIndex
	if (idx !=-1 && idx != 0) 
	{
		if( idx == 1 && bDir == true)
			return;
		if( idx == el.options.length-1 && bDir == false)
			return;
		var nxidx = idx + ( bDir ? - 1 : 1)
		if ( nxidx<0 )
			nxidx=el.length-1
		if ( nxidx>=el.length) nxidx=0
		var oldVal = el[idx].value
		var oldText = el[idx].text
		el[idx].value = el[nxidx].value
		el[idx].text = el[nxidx].text
		el[nxidx].value = oldVal
		el[nxidx].text = oldText
		el.selectedIndex = nxidx
	}
}

function moveOptions(src,dest)
{	 
	srclen = src.options.length;
	reslen = dest.options.length + srclen;
	resopt = new Array(reslen);
	destcnt = 1;
	rescnt = 1;
	nbsel = 0;
	resopt[0] = new Option(dest.options[0].text,dest.options[0].value);
	while(destcnt < dest.options.length)
	{
		resopt[rescnt] = new Option(dest.options[destcnt].text,dest.options[destcnt].value);
		destcnt++;
		rescnt++;
	}
	for(i = 1; i < srclen; i++)
	{
		while((i < srclen) && (src.options[i].selected == false))
			i++;
		if(i < srclen)
		{
			if(src.options[i].value != src.options[0].value)
			{
				nbsel++;
				resopt[rescnt] = new Option(src.options[i].text,src.options[i].value);
				src.options[i] = null;
				i--;
				srclen--;
				rescnt++;
			}
		}
	}
	dest.options[0] = null;
	dest.options[0] = resopt[0];
	
	for(i=0; i < nbsel;i++)
	{
		dest.options[i+1] = null;
		dest.options[i+1] = resopt[rescnt - nbsel + i];
	}

	for(i=0; i < rescnt - nbsel - 1; i++)
	{
		dest.options[nbsel + 1 + i] = null;
		dest.options[nbsel + 1 + i] = resopt[i + 1];
	}
}

function selectAll(list)
{
	list.options[0].selected = false;
	for(i=1; i < list.options.length; i++)
	{
		list.options[i].selected = true;
	}
}

function OnInsertOvmlDetail(txt)
{
document.forms.ovmldbf.ovmldetail.value = txt;
}

function OnInsertOvmlList(txt)
{
document.forms.ovmldbf.ovmllist.value = txt;
}
//-->
</script>
<!--#end dbscripts -->

<!--#begin dbdisplay -->
<form method="post" name="dispdbf" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="dispdb">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="update" value="displaydb">
<table  width="80%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">

<tr> 
	<td align="center" nowrap valign="middle" colspan="4"><h5>{ infotxt }</h5></td>
</tr>

<tr> 
	<td align="center" nowrap valign="middle"> 
		<select name="listfields1"  size="12" multiple="multiple">
		  <option value="0">{ listftxt }</option>
		  <!--#in getnextf --> 
		  <option value="{ fid }">{ fieldval }</option>
		  <!--#endin getnextf --> 
		</select>
	</td>
	
	<td align="center">
		<a href="Javascript:moveOptions(document.dispdbf.listfields1,document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoRight.gif" border=0 alt=""></a>
		<br /><br />
		<a href="Javascript:moveOptions(document.dispdbf.elements[5],document.dispdbf.listfields1)" ><img src="{ babSkinPath }images/Puces/PuceGoLeft.gif" border=0 alt=""></a>
	</td>
	
	<td align="center"> 
		<select name="listfd[]"  size="12" multiple="multiple">
		  <option value="0">{ listdftxt }</option>
		  <!--#in getnextdf --> 
		  <option value="{ fid }">{ fieldval }</option>
		  <!--#endin getnextdf --> 
		</select>
	</td>
	
	<td align="center">
		<a href="Javascript:move(true, document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" width="22" height="18" border=0 alt="{ moveup }"></a> 
		<br>
		<br>
		<a href="Javascript:move(false, document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoDown.gif" width="22" height="18" border=0 alt="{ movedown }"></a> 
	</td>

</tr>

<tr> 
	<td align="center" colspan="4">
		<br />
		<br />
		<h5>{ t_sort_by } :</h5>
	</td>
</tr>


<tr> 
	<td align="center" nowrap valign="middle"> 
		<select name="listfields2"  size="12" multiple="multiple">
		  <option value="0">{ listftxt }</option>
		  <!--#in getnextsortfs --> 
		  <option value="{ sortid }">{ description }</option>
		  <!--#endin getnextsortfs --> 
		</select>
	</td>
	
	<td align="center">
		<a href="Javascript:moveOptions(document.dispdbf.listfields2,document.dispdbf.elements[7])"><img src="{ babSkinPath }images/Puces/PuceGoRight.gif" border=0 alt=""></a>
		<br /><br />
		<a href="Javascript:moveOptions(document.dispdbf.elements[7],document.dispdbf.listfields2)" ><img src="{ babSkinPath }images/Puces/PuceGoLeft.gif" border=0 alt=""></a>
	</td>
	
	<td align="center"> 
		<select name="sortfd[]"  size="12" multiple="multiple">
		  <option value="0">{ listdftxt }</option>
		  <!--#in getnextsortf --> 
		  <option value="{ fid }">{ fieldval }</option>
		  <!--#endin getnextsortf --> 
		</select>
	</td>
	
	<td align="center">
		<a href="Javascript:move(true, document.dispdbf.elements[7])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" width="22" height="18" border=0 alt="{ moveup }"></a> 
		<br>
		<br>
		<a href="Javascript:move(false, document.dispdbf.elements[7])"><img src="{ babSkinPath }images/Puces/PuceGoDown.gif" width="22" height="18" border=0 alt="{ movedown }"></a> 
	</td>

</tr>



<tr valign="middle"> 
	<td align="center" colspan="4">
	<br />
	<br /> 
	<input type="submit" name="Submit" value="{ update }" onClick="selectAll(document.dispdbf.elements[5]); selectAll(document.dispdbf.elements[7]); document.dispdbf.submit()" />
	<br />
	<br />
	</td>
</tr>

</table>
</td>
</tr>
</table>
</form>
<br>
<form method="post" name="ovmldbf" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="dispdb">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="update" value="ovmldb">
<table  width="80%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">

<tr> 
<td>{ ovmllisttxt }:<br /><br />
<input type="text" id="ovmllist" name="ovmllist" value="{ ovmllistval }" size="70" />&nbsp;&nbsp;
<a onclick="bab_dialog(this.href, { width: '800px', height: '500px' }, function(ret) { document.getElementById('ovmllist').value = ret.filename; }); return false;" href="index.php?tg=editorovml&cb=OnInsertOvmlList">Lister</a>
</td>
</tr>

<tr> 
<td>{ ovmldetailtxt }:<br /><br />
<input type="text" id="ovmldetail" name="ovmldetail" value="{ ovmldetailval }" size="70" />&nbsp;&nbsp;
<a onclick="bab_dialog(this.href, { width: '800px', height: '500px' }, function(ret) { document.getElementById('ovmldetail').value = ret.filename; }); return false;" href="index.php?tg=editorovml&cb=OnInsertOvmlDetail">Lister</a>
</td>
</tr>
<tr> 

<tr> 
<td>{ disableemailbtntxt }:<br /><br />
<select id="disableemail" name="disableemail"">
	<option value="N" { noselected }>{ notxt }</option>
	<option value="Y" { yesselected }>{ yestxt }</option>
</select>
</td>
</tr>
<tr> 

<td align="center"><input type="submit" name="Submit2" value="{ update }" />
</td>
</tr>

</table>
</td>
</tr>
</table>
</form>
<br>

<!--#end dbdisplay -->



<!--#begin dbfieldvalues -->
<script type="text/javascript">
<!--
function remove_from_select()
	{
	var f = document.forms['addfval'];
	var sel = f.elements["fields_values[]"];
	var def = f.elements["fvdef"];
	var srclen = sel.options.length;
	for(i = 0; i < srclen; i++)
		{
		if (sel.options[i].selected)
			{
			sel.options[i] = null;
			def.options[i+1] = null;
			}
		}
	}
	
function add_to_select()
	{
	var f = document.forms['addfval'];
	if (f.value_to_add.value != '')
		{
		var sel = f.elements["fields_values[]"];
		var def = f.elements["fvdef"];
		var srclen = sel.options.length;
		var opt = new Option(f.value_to_add.value);
		var opt2 = new Option(f.value_to_add.value);
		sel.options[srclen] = opt;
		def.options[srclen+1] = opt2;
		f.value_to_add.value = ''
		}
	}

function mvyn_onchange()
	{
	var f = document.forms['addfval'];
	if (f.mvyn.value == 'Y')
		{
		document.getElementById('addfval_simple').style.display = 'none';
		document.getElementById('addfval_multiple').style.display = '';
		}
	else
		{
		document.getElementById('addfval_simple').style.display = '';
		document.getElementById('addfval_multiple').style.display = 'none';
		}
	}

function submitCtr()
	{
	var f = document.forms['addfval'];
	
	var list = f.elements["fields_values[]"];
	if ( list.options.length < 2 && f.mvyn.value == 'Y')
		{
		//}
		alert('{ js_error }');
		list.focus();
		return false;
		}

	for(i=0; i < list.options.length; i++)
		{
		list.options[i].selected = true;
		}
	return true;
	}
-->
</script>
<form name="addfval" method="post" action="{ babPhpSelf }" onSubmit="return(submitCtr())">
<input type="hidden" name="tg" value="admdir" />
<input type="hidden" name="idx" value="addval" />
<input type="hidden" name="id" value="{ id }" />
<input type="hidden" name="fxid" value="{ idfield }" />
<input type="hidden" name="modify" value="dbfval" />

<table class="BabLoginCadreBackground"  width="70%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
	<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="right">
			{ multivaluestxt }
		</td>
		<td>
			<select name="mvyn" onchange="mvyn_onchange()">
			<option value="N" { noselected }>{ notxt }</option>
			<option value="Y" { yesselected }>{ yestxt }</option>
			</select>
		</td>
	</tr>
	<tbody id="addfval_simple">
	<tr>
		<td align="right">
		{ t_value }
		</td>
		<td>
			<input type="text" name="value" value="{ value }" />
		</td>
	</tr>
	</tbody>
	<tbody id="addfval_multiple">
	<tr>
		<td align="right">
		{ t_fields_values }
		</td>
		<td>
			<select multiple name="fields_values[]"  size="6">
			<!--#in getnextdbfieldvalue -->
			<option value="{ fval }">{ fval }</option>
			<!--#endin getnextdbfieldvalue -->
			</select>
		</td>
	</tr>
	<tr>
		<td align="right">
		{ addtxt }
		</td>
		<td>
			<input type="text" name="value_to_add" value="" size="15" /><br />
			<input type="button" value="{ addtxt }" onclick="add_to_select()" /><br />
			<input type="button" value="{ t_delvalue }" onclick="remove_from_select()" />
		</td>
	</tr>
	<tr>
		<td align="right">
		{ fvdeftxt }
		</td>
		<td>
			<select name="fvdef">
				<option value="0"></option>
				<!--#in getnextdbfieldvalue -->
				<option value="{ fval }" { fvdefselected }>{ fval }</option>
				<!--#endin getnextdbfieldvalue -->
			</select>
		</td>
	</tr>
	</tbody>
	<tr>
		<td colspan="2" align="center">
		<input type="submit" name="adfsav" value="{ savetxt }" />
		<!--#if bdelete -->
		<input type="submit" name="adfdel" value="{ deltxt }" />
		<!--#endif bdelete -->
		</td>
	</tr>
	</table>
</td>
</tr>
</table>
</form>

<script type="text/javascript">
<!--
mvyn_onchange();
-->
</script>
<!--#end dbfieldvalues -->

<!--#begin dbaddfield -->
<form name="addfield" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="addval">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="modify" value="addfield">
<table class="BabLoginCadreBackground"  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td align="right" nowrap valign="middle">{ fieldnametxt }:</td>
<td valign="middle">
<input type="text" name="fieldn" size="45" value="{ fieldn }">
</td>
</tr>
<tr> 
<td align="right" nowrap valign="middle">{ fieldvaltxt }:</td>
<td valign="middle">
<input type="text" name="fieldv" size="45" value="{ fieldv }">
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<center><input type="submit" name="adfsav" value="{ savetxt }">
</form>
<!--#end dbaddfield -->

<!--#begin dblistorder -->
<form method="post" name="ordform" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="dispdb">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="update" value="dblistord">

<table  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground" align="center" valign="middle"> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td valign="middle" align="center"> 
<select name="listfields[]" size="20" multiple>
  <option value="0">{ listftxt }</option>
  <!--#in getnextf --> 
  <option value="{ fid }">{ fieldval }</option>
  <!--#endin getnextf --> 
</select>
</td>
<td valign="middle" align="center"><a 
href="Javascript:move(true, document.ordform.elements[4])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" 
width="22" height="18" border=0 alt="{ moveup }"></a> <br>
<br>
<a href="Javascript:move(false, document.ordform.elements[4])"> 
<img src="{ babSkinPath }images/Puces/PuceGoDown.gif" width="22" height="18" border=0 alt="{ movedown }"></a> 
</td>
</tr>
<tr> 
<td align="center"> 
<input type="submit" name="Submit" value="{ update }" 
onclick="selectAll(document.ordform.elements[4]); document.ordform.submit()">
<br>
<br>
</td>
<td>&nbsp; </td>
</tr>
</table>
</td>
</tr>
</table>
</form>
<!--#end dblistorder -->


<!--#begin search -->
<form method="post" name="dispdbf" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="update" value="search" />


<table  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
	<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
	<tr> 
	<td align="center" nowrap valign="middle"> 
		<select name="listfields1"  size="12" multiple="multiple">
		  <option value="0">{ listftxt }</option>
		  <!--#in getnext --> 
		  <option value="{ arr[id] }">{ arr[description] }</option>
		  <!--#endin getnext --> 
		</select>
	</td>
	
	
	<td align="center">
		<a href="Javascript:moveOptions(document.dispdbf.listfields1,document.dispdbf.elements[3])"><img src="{ babSkinPath }images/Puces/PuceGoRight.gif" border="0" alt=""></a>
		<br />
		<br />
		<a href="Javascript:moveOptions(document.dispdbf.elements[3],document.dispdbf.listfields1)" ><img src="{ babSkinPath }images/Puces/PuceGoLeft.gif" border="0" alt=""></a>
	</td>
	
	
	<td align="center"> 
		<select name="listfd[]"  size="12" multiple="multiple">
		  <option value="0">{ listftxt }</option>
		  <!--#in getnextdf --> 
		  <option value="{ arr[id] }">{ arr[description] }</option>
		  <!--#endin getnextdf --> 
		</select>
	</td>
	<td align="center" width="10%">
		<a href="Javascript:move(true, document.dispdbf.elements[3])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" border=0 alt="{ moveup }"></a> 
		<br>
		<br>
		<a href="Javascript:move(false, document.dispdbf.elements[3])"><img src="{ babSkinPath }images/Puces/PuceGoDown.gif" border="0" alt="{ movedown }"></a> 
	</td>
	</tr>
	
	<tr>
		<td  colspan="4">
			<br />
			<br />
			<h5 align="center">{ t_sort_fields } :</h5>
		</td>
	</tr>
	
	
	
	
	<tr> 
	<td align="center" nowrap valign="middle"> 
		<select name="listfields2"  size="12" multiple="multiple">
		  <option value="0">{ listftxt }</option>
		  <!--#in getnextsortfs --> 
		  <option value="{ sortid }">{ description }</option>
		  <!--#endin getnextsortfs --> 
		</select>
	</td>
	
	
	<td align="center">
		<a href="Javascript:moveOptions(document.dispdbf.listfields2,document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoRight.gif" border="0" alt=""></a>
		<br />
		<br />
		<a href="Javascript:moveOptions(document.dispdbf.elements[5],document.dispdbf.listfields2)" ><img src="{ babSkinPath }images/Puces/PuceGoLeft.gif" border="0" alt=""></a>
	</td>
	
	
	<td align="center"> 
		<select name="sortfd[]"  size="12" multiple="multiple">
		  <option value="0">{ listftxt }</option>
		  <!--#in getnextsortf --> 
		  <option value="{ arr[id] }">{ arr[description] }</option>
		  <!--#endin getnextsortf --> 
		</select>
	</td>
	<td align="center" width="10%">
		<a href="Javascript:move(true, document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" border=0 alt="{ moveup }"></a> 
		<br>
		<br>
		<a href="Javascript:move(false, document.dispdbf.elements[5])"><img src="{ babSkinPath }images/Puces/PuceGoDown.gif" border="0" alt="{ movedown }"></a> 
	</td>
	</tr>
	
	
	
	
	
	
	<tr>
		<td  colspan="4"><br /></td>
	</tr>
	
	
	<tr valign="middle"> 
		<td align="center" colspan="4"> 
			<input type="submit" name="Submit" value="{ update }" onclick="selectAll(document.dispdbf.elements[3]);selectAll(document.dispdbf.elements[5]); document.dispdbf.submit()" />
		<br>
		<br>
		</td>
	
	</tr>
	</table>
</td>
</tr>
</table>
</form>
<!--#end search -->

<!--#begin dirgroups -->
<form method="post" action="{ babPhpSelf }" name="listform">
<input type="hidden" name="tg" value="admdir">
<input type="hidden" name="idx" value="groupdirs">
<input type="hidden" name="update" value="gdirs">
<table border="0" width="90%" cellpadding="2" cellspacing="0" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table class="BabMailBackground" border="0" width="100%" cellpadding="2" cellspacing="0">
<tr class="BabSiteAdminTitleFontBackground">
<td valign="middle">{ fullname } </td>
<td valign="middle" align="center">{ directory } </td>
</tr>
<!--#in getnext -->
<!--#if altbg --><tr class="BabSiteAdminFontBackground"><!--#else altbg --><tr class="BabForumBackground1"><!--#endif altbg --> 
<td valign="middle"> 
{ urlname } 
</td>
<td valign="middle" width="0%" align="center"> 
<input type="checkbox" name="dirgrpids[]" { dircheck } value="{ grpid }">
</td>
</tr>        
<!--#endin getnext -->
<tr class="BabSiteAdminTitleFontBackground"> 
<td valign="middle">&nbsp;</td>
<td width="1%" align="center"><a href="javascript:onCheckAll('dirgrpids', true)"><img src="{ babSkinPath }images/Puces/Pucecheked.gif" alt="{ checkall }" width="10" height="10" border="0"></a><a href="javascript:onCheckAll('dirgrpids', false)"><img src="{ babSkinPath }images/Puces/PuceUncheked.gif" alt="{ uncheckall }" width="10" height="10" border="0"></a></td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<div align="center">
<input type="submit" name="submit" value="{ modify }"></div>
<br>
</form>
<!--#end dirgroups -->
