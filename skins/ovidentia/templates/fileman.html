
<!--#begin addfile -->
<script type="text/javascript">
<!--
aTokens = [','];
aConfiguration = {tokens: aTokens, minChars: 1, fullSearch: false, choices: 10};

function aR(idx)
{
var rAjax = new Ajax.Request(
'index.php?tg=thesaurus&idx=tagsjson',
{
  method: 'get',
  onSuccess: function(xhr)
  {
	aConfiguration.afterUpdateElement = function() { $('idtags'+idx).value += ', ' };
	eval("var tags = " + xhr.responseText);
	atags = [];
	for(i=0;i<tags.length;i++) {
		atags.push(tags[i].tagname + '');
	}
	new Autocompleter.Local('idtags'+idx, 'tags-ac'+idx, atags, aConfiguration)
  }
}
);
}

function urlencode(str) 
{
    // http://kevin.vanzonneveld.net
    // +   original by: Philip Peterson
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // *     example 1: urlencode('Kevin van Zonneveld!');
    // *     returns 1: 'Kevin+van+Zonneveld%21'
                                     
    var ret = str;
    
    ret = ret.toString();
    ret = encodeURIComponent(ret);
    ret = ret.replace(/%20/g, '+');
 
    return ret;
}

function bab_onAjaxGetUploadBlock()
{
	var oForm = $("ffileupload");
	if(null != oForm)
	{
		var sAddOnUrl		= '{ babUrlScript }?tg=';
		var sPath			= oForm.path.value;
		var iIdRootFolder	= oForm.id.value;
		var sGr				= oForm.gr.value;
		var iBlockNbr		= parseInt(oForm.files_fields.value);
		
		var sUrl = sAddOnUrl + "fileman&idx=GetUploadBlock&id=" + iIdRootFolder + 
			"&path=" + urlencode(sPath) + "&gr=" + sGr + "&iBlockNbr=" + iBlockNbr;
		
		var oOnAjaxGetUploadBlock = $("onAjaxGetUploadBlock");
		oOnAjaxGetUploadBlock.style.display = 'none';
			
		var oUrlremovefile = $("urlremovefile");
		oUrlremovefile.style.display = 'none';
		
		new Ajax.Request(sUrl, 
			{
				method: "get",
				onSuccess: ajaxResponse
			}
		);
	}
}

function ajaxResponse(oTransport)
{
	var oForm = $("ffileupload");
	if(null != oForm)
	{
		var iBlockNbr	= parseInt(oForm.files_fields.value - 1);
		var oLastChild	= $("tupload" + iBlockNbr);
		if(null != oLastChild)
		{
			new Insertion.After(oLastChild, oTransport.responseText);
			
			if(null != $("idtags" + oForm.files_fields.value))
			{
				aR(parseInt(oForm.files_fields.value));
			}
			
			oForm.files_fields.value = parseInt(oForm.files_fields.value) + 1;
		
			var oOnAjaxGetUploadBlock = $("onAjaxGetUploadBlock");
			oOnAjaxGetUploadBlock.style.display = '';
			
			if(oForm.files_fields.value > 1)
			{
				var oUrlremovefile = $("urlremovefile");
				oUrlremovefile.style.display = '';
			}
		}
	}
}

function remove_field()
	{
	var f = document.forms['ffileupload'];
	var d = document.getElementById('post_addfiles');
	var n = parseInt(f.files_fields.value);
	var inputs = d.getElementsByTagName('table');
	if (n > 1)
		{
		f.files_fields.value = n - 1;
		
		d.removeChild(inputs[(inputs.length-1)]);
		}
	if( n == 2 )
		{
		d = document.getElementById('urlremovefile');
		d.style.display='none';

		}
	}
-->
</script>
<form name="ffileupload" id= "ffileupload" method="post" action="{ babPhpSelf }" enctype="multipart/form-data">
	<input type="hidden" name="MAX_FILE_SIZE" value="{ maxfilesize }">
	<input type="hidden" name="tg" value="fileman">
	<input type="hidden" name="idx" value="list">
	<input type="hidden" name="sAction" value="saveFile">
	<input type="hidden" name="id" value="{ id }">
	<input type="hidden" name="gr" value="{ gr }">
	<input type="hidden" name="path" value="{ path }">
	<input type="hidden" name="readonly" value="N">
	<input type="hidden" name="files_fields" value="1">
	
	<table width="90%" border="0" cellspacing="0" cellpadding="2" align="center">
		<tr> 
			<td class="BabLoginCadreBackground" align="center" valign="middle"> 
				<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
					<tr> 
						<td align="center" colspan="2"><b>{ t_warnmaxsize }: { maxsize }</b></td>
					</tr>
					<tr> 
						<td align="center">
							<div id="post_addfiles">
								{ sUploadBlock }
							</div>
						</td>
					</tr>
					<tr> 
						<td align="center">
							<p>
								<a id="onAjaxGetUploadBlock" href="javascript:bab_onAjaxGetUploadBlock()">{ t_add_field }</a>&nbsp;&nbsp;
								<a id="urlremovefile" href="javascript:remove_field()" style="display:none">{ t_remove_field }</a>
							</p>
						</td>
					</tr>
					<tr>
						<td align="center"><input type="submit" name="Submit" value="{ add }"></td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</form>
<script type="text/javascript">
<!--
	if(null != $("idtags0"))
	{
		aR(0);
	}
-->
</script>
<!--#end addfile -->


<!--#begin uploadBlock -->
<table id="tupload{ iBlockNbr }" class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
	<tr> 
		<td align="right">{ sName }</td>
		<td>
			<input type="file" name="uploadf{ iBlockNbr }" size="50" id="uploadf{ iBlockNbr }" />
		</td>
	</tr>
	<tr> 
		<td align="right">{ sDescription }</td>
		<td>
			<input type="text" name="description[]" size="50" maxlength="255" value="{ descval }">
		</td>
	</tr>
<!--#if bUseKeyword -->
	<tr> 
		<td align="right">{ sKeywords }</td>
		<td>
			<input type="text" id="idtags{ iBlockNbr }" name="keywords[]" size="50" maxlength="255" value="{ keysval }" />
			<div align="left" id="tags-ac{ iBlockNbr }" class="auto_complete"></div>
		</td>
	</tr>
<!--#endif bUseKeyword -->
	<!--#in getNextField -->
	<tr> 
		<td align="right">{ sFieldname }</td>
		<td>
			<input type="text" name="{ field }[]" size="50" maxlength="255" value="{ fieldval }">
		</td>
	</tr>
	<!--#endin getNextField -->
	<tr> 
		<td align="right">{ sAttribute }</td>
		<td> 
			<select name="readonly[]">
				<option value="N" selected>{ sNo }</option>
				<option value="Y" >{ sYes }</option>
			</select>
		</td>
	</tr>
	<tr> 
		<td  colspan="2">&nbsp;</td>
	</tr>
</table>
<!--#end uploadBlock -->

<!--#begin fileslist -->
<script type="text/javascript">
//<![CDATA[

function onDelegationChanged()
{
	var form = document.forms.filesList;
	form.submit();
}

function hideDelegationSubmitBtn()
{
	var form = document.forms.filesList;
	document.forms['filesList'].elements['sDelegationBtn'].style.display = 'none';
	
}
//]]>
</script>

<form name="filesList" method="post" action="{ babPhpSelf }">
	<input type="hidden" name="tg" value="fileman" />
	<input type="hidden" name="idx" value="list" />
	<input type="hidden" name="sAction" value="changeDelegation" />

	<table width="98%" border="0" cellspacing="0" cellpadding="2" align="center">
	<tr>
	<td align="center" valign="top"> 
		<table class="bab-toolbar" border="0" width="100%" cellpadding="4" cellspacing="0" align="center">
			<tr>
				<td align="left" valign="middle" class="BabsiteFileCurentFolder" >
				<!--#if bDisplayDelegationSelect -->
					<select name="iDelegation" onchange="onDelegationChanged()"> 
						<!--#in getNextUserFmVisibleDelegation -->
						<option value="{ iIdDelegation }" { sDelegationSelected }>{ sDelegationName }</option>
						<!--#endin getNextUserFmVisibleDelegation -->
					</select>
					<input type="submit" name='sDelegationBtn' value="{ sSubmit }" />	
				<!--#endif bDisplayDelegationSelect -->
					<img src="{ babSkinPath }images/Puces/folder.gif" alt="" border="0" align="middle" /> 
		                  <span style="vertical-align: middle"> : { sRootFolderPath }{ path }&nbsp;</span><a href="{ rooturl }"><img src="{ babSkinPath }images/Puces/root.gif" border="0" align="middle" alt="{ root }"  /></a>&nbsp;<a href="{ refreshurl }"><img src="{ babSkinPath }images/Puces/refresh.gif" alt="{ 
		            refresh }" border="0" align="middle" /></a><!--#if bCanCreateFolder -->&nbsp;<a href="{ sAddFolderFormUrl }" title="{ sFolderFormAdd }"><img src="{ babSkinPath }images/Puces/folder_add.png" border="0" align="middle" alt="{ sFolderFormAdd }"  /></a><!--#endif bCanCreateFolder -->
		       	</td>
			</tr>
		</table>
	
		<table width="100%" border="0" cellspacing="0" cellpadding="2" align="center">
			<tr> 
				<td class="BabLoginCadreBackground" align="center"> 
					<table  width="100%" border="0" cellspacing="0" cellpadding="3" align="center">
						<tr class="BabSiteAdminTitleFontBackground"> 
							<td colspan="2" align="center">{ nametxt }</td>
							<td>&nbsp;</td>
							<td>{ sizetxt }</td>
							<td align="center">{ modifiedtxt }</td>
							<td align="center">{ postedtxt }</td>
							<td width="10%" nowrap="nowrap">&nbsp;</td>
							<td width="1%">
							<!--#if bManager -->
								{ hitstxt }
							<!--#endif bManager -->&nbsp;
							</td>
						</tr>
						
					<!--#if bParentUrl -->
						<tr class="BabSiteAdminFontBackground">
							<td width="1%" align="center">{ upfolderimg }</td>
							<td><a href="{ sParentUrl }" title="{ sParentTitle }">{ sParent }</a></td>
							<td colspan="4">&nbsp;</td>
							<td width="10%">&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
					<!--#endif bParentUrl -->
						
					
					
						<!--#in getNextFolder -->
					<!--#if altbg -->
						<tr class="BabSiteAdminFontBackground">
					<!--#else altbg -->
						<tr class="BabForumBackground1">
					<!--#endif altbg -->
					
					<!--#if bCollectiveFolder -->
							<td width="1%" align="center">
						<!--#if bCanManageFolder -->
							{ manfolderimg }
						<!--#else bCanManageFolder -->
							{ grpfolderimg }
						<!--#endif bCanManageFolder -->
							</td>
					<!--#else bCollectiveFolder -->
							<td width="1%" align="center">{ usrfolderimg }</td>
					<!--#endif bCollectiveFolder -->
							<td align="left">
						<!--#if bCanBrowseFolder -->
								<a href="{ url }">{ name }</a>
						<!--#else bCanBrowseFolder -->
								{ name }
						<!--#endif bCanBrowseFolder -->
							</td>
							<td colspan="4">&nbsp;</td>
							<td width="10%" nowrap="nowrap">
						<!--#if bCanEditFolder -->
							<a href="{ sFolderFormUrl }" title="{ sFolderFormEdit }"><img src="{ babSkinPath }images/Puces/edit.png" border="0" align="middle" alt="{ sFolderFormEdit }"  /></a>
						<!--#endif bCanEditFolder -->
						<!--#if bCanSetRightOnFolder -->
							<a href="{ sRightUrl }" title="{ sRight }"><img src="{ babSkinPath }images/Puces/access.png" border="0" alt="{ sRight }" align="middle"  /></a>
						<!--#endif bCanSetRightOnFolder -->
						<!--#if bCanCutFolder -->
							<a href="{ sCutFolderUrl }" title="{ sCutFolder }"><img src="{ babSkinPath }images/Puces/cut.gif" alt="{ sCutFolder }" border="0" align="middle" /></a>
						<!--#endif bCanCutFolder -->&nbsp;
							</td>
							<td>&nbsp;</td>
						</tr>
						<!--#endin getNextFolder -->
					
					
						<!--#in getNextCuttedFolder -->
						<tr class="BabSiteAdminFontBackground"> 
							<td width="1%" align="center"> 
						<!--#if bCollectiveFolder -->
							<!--#if bCanManageFolder -->
								{ manfolderimg }
							<!--#else bCanManageFolder -->
								{ grpfolderimg }
							<!--#endif bCanManageFolder -->
						<!--#else bCollectiveFolder -->
							{ usrfolderimg }
						<!--#endif bCollectiveFolder -->
							</td>
							<td>
						<!--#if bCanBrowseFolder -->
								<a href="{ url }">{ name }</a>
						<!--#else bCanBrowseFolder -->
								{ name }
						<!--#endif bCanBrowseFolder -->
							</td>
							<td colspan="4">&nbsp;</td>
							
							<td width="10%" nowrap="nowrap">
						<!--#if bCanSetRightOnFolder -->
							<a href="{ sRightUrl }" title="{ sRight }"><img src="{ babSkinPath }images/Puces/access.png" border="0" align="middle" alt="{ sRight }"  /></a>
						<!--#endif bCanSetRightOnFolder -->
						<!--#if bCanEditFolder -->
							<a href="{ sFolderFormUrl }" title="{ sFolderFormEdit }"><img src="{ babSkinPath }images/Puces/edit.png" border="0" align="middle" alt="{ sFolderFormEdit }"  /></a>
						<!--#endif bCanEditFolder -->
							<a href="{ pasteurl }"><img src="{ babSkinPath }images/Puces/paste.gif" alt="{ paste }" border="0" align="middle" /></a>
							</td>
							<td>&nbsp;</td>
						</tr>
						<!--#endin getNextCuttedFolder -->
	
						
						<!--#in getnextfile -->
					<!--#if altbg -->
						<tr class="BabSiteAdminFontBackground">
					<!--#else altbg -->
						<tr class="BabForumBackground1">
					<!--#endif altbg -->
							<td width="1%" align="center">{ fileimage }</td>
							<td><a href="{ viewurl }" title="{ description }" onclick="bab_popup(this.href,4);return false;">{ name }</a>
						<!--#if bCanManageCurrentFolder -->
							<!--#if bconfirmed "== 1" -->
							<a href="{ viewurl }" onclick="bab_popup(this.href,4);return false;"><img src="{ babSkinPath }images/Puces/PuceFileWaitConfirm.gif" border="0" align="middle"></a> 
							<!--#endif bconfirmed -->
						<!--#endif bCanManageCurrentFolder -->
							</td>
							<td>
							
						<!--#if readonly -->
							<img src="{ babSkinPath }images/Puces/readonly.gif" alt="{ altreadonly }" border="0" align="middle" />
						<!--#else readonly -->
							<!--#if bVersion -->
								<!--#if bDownload -->
							<a href="{ ovfversurl }" onclick="bab_popup(this.href,4);return false;">{ lastversion }</a>
								<!--#endif bDownload -->
								<!--#if bUpdate -->
							<a href="{ ovfhisturl }" onclick="bab_popup(this.href,4);return false;" title="{ altfilelog }">
							<img src="{ babSkinPath }images/Puces/FileLog.gif" alt="{ altfilelog }" border="0" align="middle" />
							</a>
									<!--#if block -->
										<!--#if blockauth -->
							<a href="{ ovfurl }" onclick="bab_popup(this.href,4);return false;" title="{ altfileunlock }">
							<img src="{ babSkinPath }images/Puces/FileLock.gif" alt="{ altfileunlock }" border="0" align="middle" />
							</a>
										<!--#else blockauth -->
											<!--#if bCanManageCurrentFolder -->
							<a href="{ ovfurl }" onclick="bab_popup(this.href,4);return false;" title="{ altfileunlock }">
							<img src="{ babSkinPath }images/Puces/FileLock.gif" alt="{ altfileunlock }" border="0" align="middle" />
											<!--#else bCanManageCurrentFolder -->
							<img src="{ babSkinPath }images/Puces/FileLock.gif" alt="{ altfilelock }" border="0" align="middle" />
											<!--#endif bCanManageCurrentFolder -->
										<!--#endif blockauth -->
									<!--#else block -->
							<a href="{ ovfurl }" onclick="bab_popup(this.href,4);return false;" title="{ altfilelock }">
							<img src="{ babSkinPath }images/Puces/FileUnlock.gif" alt="{ altfilelock }" border="0" align="middle" />
							</a>
									<!--#endif block -->				  	
									<!--#if bfvwait -->
							<a href="{ ovfcommiturl }" onclick="bab_popup(this.href,4);return false;" title="{ altfilewrite }">
							<img src="{ babSkinPath }images/Puces/PuceFileWaitConfirm.gif" alt="{ altfilewrite }" border="0" align="middle" />
							</a>
									<!--#else bfvwait -->
										<!--#if blockauth -->
							<a href="{ ovfcommiturl }" onclick="bab_popup(this.href,4);return false;" title="{ altfilewrite }">
							<img src="{ babSkinPath }images/Puces/FileWrite.gif" alt="{ altfilewrite }" border="0" align="middle" />
							</a>
										<!--#endif blockauth -->
									<!--#endif bfvwait -->
								<!--#endif bUpdate -->
							<!--#endif bVersion -->
						<!--#endif readonly -->
							</td>
							<td>{ sizef }</td>
							<td align="center">{ modified }</td>
							<td align="center">{ postedby }</td>
							<td align="left" nowrap="nowrap">
							<!--#if bDownload --><a href="{ urlget }" title="{ download }"><img src="{ babSkinPath }images/Puces/download.gif" alt="{ download }" border="0" align="middle" /></a>&nbsp;<!--#endif bDownload -->
							<!--#if bCanManageCurrentFolder --><a href="{ cuturl }" title="{ cuttxt }"><img src="{ babSkinPath }images/Puces/cut.gif" alt="{ cuttxt }" border="0" align="middle" /></a>&nbsp;<a href="{ delurl }" title="{ deltxt }"><img src="{ babSkinPath }images/Puces/del.gif" alt="{ deltxt }" border="0" align="middle" /></a><!--#endif bCanManageCurrentFolder -->
							<!--#if bDownload --><span class="bab-file-{ fileid }"></span><!--#endif bDownload -->
<!--#if bUnZip -->
<a href="#">
	<img src="{ babSkinPath }images/Puces/zip.gif" border="0" align="middle" />
<a/>
<!--#endif bUnZip -->
							
							</td>
							<td align="center"><!--#if bCanManageCurrentFolder -->{ hits }<!--#endif bCanManageCurrentFolder -->&nbsp;</td>
						</tr>
						<!--#endin getnextfile -->
						
						<!--#in getnextwfile -->
					<!--#if altbg -->
						<tr class="BabSiteAdminFontBackground">
					<!--#else altbg -->
						<tr class="BabForumBackground1">
					<!--#endif altbg -->
							<td width="1%">{ fileimage }</td>
							<td>
								<a href="{ viewurl }" title="{ description }" onclick="bab_popup(this.href,4);return false;">{ name }</a>
							<!--#if bconfirmed "== 1" --> 
								<a href="{ viewurl }" onclick="bab_popup(this.href,4);return false;" title="{ sWaitingFileTitle }"><img src="{ babSkinPath }images/Puces/PuceFileWaitConfirm.gif" border="0" align="middle" title="{ sWaitingFileTitle }"></a>
							<!--#endif bconfirmed -->
							</td>
							<td>
							<!--#if readonly -->
								<img src="{ babSkinPath }images/Puces/readonly.gif" alt="{ altreadonly }" border="0" align="middle" />
							<!--#endif readonly -->
							</td>
							<td>{ sizef }</td>
							<td align="center">{ modified }</td>
							<td align="center">{ postedby }</td>
							<td nowrap="nowrap">
								<a href="{ urlget }"><img src="{ babSkinPath }images/Puces/download.gif" alt="{ download }" border="0" align="middle" /></a>
							<!--#if bCanManageCurrentFolder -->
								<a href="{ cuturl }"><img src="{ babSkinPath }images/Puces/cut.gif" alt="{ cuttxt }" border="0" align="middle" /></a>
								<a href="{ delurl }"><img src="{ babSkinPath }images/Puces/del.gif" alt="{ deltxt }" border="0" align="middle" /></a>
							<!--#endif bCanManageCurrentFolder -->
							</td>
							<td>
							<!--#if bCanManageCurrentFolder -->{ hits }<!--#endif bManager -->&nbsp;
							</td>
						</tr>
						<!--#endin getnextwfile -->	
							
						<!--#in getnextxfile -->
					<!--#if altbg -->
						<tr class="BabSiteAdminFontBackground">
					<!--#else altbg -->
						<tr class="BabForumBackground1">
					<!--#endif altbg -->
							<td width="1%">{ fileimage }</td>
							<td>
					<!--#if bCanManageCurrentFolder -->
							{ name }
						<!--#if bconfirmed "== 1" -->
							<a href="{ url }"><img src="{ babSkinPath }images/Puces/PuceFileWaitConfirm.gif" border="0" align="middle" /></a>
						<!--#endif bconfirmed -->
					<!--#else bCanManageCurrentFolder -->
							{ name } 
					<!--#endif bCanManageCurrentFolder -->
							</td>
							<td>&nbsp;</td>
							<td>{ sizef }</td>
							<td align="center">{ modified }</td>
							<td align="center">{ postedby }</td>
							<td nowrap="nowrap">
						<!--#if bDownload -->
							<a href="{ urlget }"><img src="{ babSkinPath }images/Puces/download.gif" alt="{ download }" border="0" align="middle" /></a>
						<!--#endif bDownload -->
						<!--#if bCanManageCurrentFolder -->
							<a href="{ pasteurl }"><img src="{ babSkinPath }images/Puces/paste.gif" alt="{ paste }" border="0" align="middle" /></a>
						<!--#endif bCanManageCurrentFolder -->
							</td>
							<td>
						<!--#if bCanManageCurrentFolder -->
								{ hits }<!--#endif bCanManageCurrentFolder -->&nbsp;
							</td>
						</tr>
						<!--#endin getnextxfile -->
					</table>
				</td>
			</tr>
		</table>
		<!--#if bCanManageCurrentFolder -->
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
		    <tr>
				<td align="right" valign="middle">
				<a href="{ urldiskspace }" onclick="bab_popup(this.href);return false;"><img src="{ babSkinPath }images/Puces/driver.gif" alt="{ diskspace }" border="0" align="middle" />&nbsp;{ diskspace }</a> 
				</td>
		    </tr>
		</table>
		<!--#endif bCanManageCurrentFolder -->
		</td>
		</tr>
		</table>
	<script type="text/javascript">
	//<![CDATA[
	document.observe("dom:loaded", function fm_init() {
		<!--#if bDisplayDelegationSelect -->
			hideDelegationSubmitBtn();
		<!--#endif bDisplayDelegationSelect -->
	});
	//]]>
	</script>
</form>
<!--#end fileslist -->

<!--#begin trashfiles -->

<form method="post" action="{ babPhpSelf }" name="listform">
<input type="hidden" name="tg" value="fileman">
<input type="hidden" name="idx" value="list">
<input type="hidden" name="id" value="{ id }">
<input type="hidden" name="path" value="{ sPath }">
<input type="hidden" name="gr" value="{ gr }">
<input type="hidden" name="sAction" value="deleteRestoreFile">
<table width="90%" border="0" cellspacing="0" cellpadding="0" align="center">
<tr>
	<td class="BabMailBackground" align="center">
		<table  width="100%" border="0" cellspacing="0" cellpadding="2" align="center">
		<tr class="BabSiteAdminTitleFontBackground">
		<td>
			<a href="javascript:onCheckAll('items', true)"><img src="{ babSkinPath }images/Puces/Pucecheked.gif" alt="{ checkall }"  border="0" /></a><a href="javascript:onCheckAll('items', false)"><img src="{ babSkinPath }images/Puces/PuceUncheked.gif" alt="{ uncheckall }" border="0" /></a>
		</td>
		<td>&nbsp;</td>
		<td>&nbsp;{ nametxt }</td>
		<td align="right">&nbsp;{ sizetxt }</td>
		<td align="right">&nbsp;{ modifiedtxt }</td>
		<td align="right">&nbsp;{ postedtxt }</td>
		</tr>
		<!--#in getnextfile --><tr class="BabSiteAdminFontBackground"> 
		<td  width="1%"><input type="checkbox" name="items[]" value="{ idfile }"></td>          
		<td align="right">{ fileimage }&nbsp;</td>          
		<td>&nbsp;{ name }</td>
		<td align="right">&nbsp;{ sizef }&nbsp;{ bytes }</td>
		<td align="right">&nbsp;{ modified }</td>
		<td align="right">&nbsp;{ postedby }</td>
		</tr><!--#endin getnextfile -->
		</table>
	<div align ="center"><br>
	<input type="submit" name="delete" value="{ delete }" />&nbsp;&nbsp;<input type="submit" name="restore" value="{ restore }" />
	<br />
	</div>
	</td>
</tr>
</table>
</form>
<!--#end trashfiles -->

<!--#begin diskspace -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>{ babSiteName }</TITLE>
<meta http-equiv="Content-type" content="{ sContent }"/>
{ babMeta }
{ babCss }
<script type="text/javascript">
<!--
window.focus();
//-->
</script>
</HEAD>
<BODY>
<br>
<table class="BabSiteAdminFontBackground" width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
	<tr class="BabSiteAdminTitleFontBackground"> 
		<td width="40%">{ grouptxt }</td>
		<td width="20%">{ diskspacetxt }</td>
		<td width="20%">{ allowedspacetxt }</td>
		<td width="20%">{ remainingspacetxt }</td>
	</tr>
	<!--#in getprivatespace -->
	<tr> 
		<td>{ groupname }</td>
		<td>{ diskspace }</td>
		<td>{ allowedspace }</td>
		<td>{ remainingspace }</td>
	</tr>
	<!--#endin getprivatespace -->
	<!--#in getnextgrp -->
	<tr> 
		<td>{ groupname }</td>
		<td>{ diskspace }</td>
		<td>{ allowedspace }</td>
		<td>{ remainingspace }</td>
	</tr>
	<!--#endin getnextgrp -->
	<!--#in getnextmgrp -->
	<tr> 
		<td>{ groupname }</td>
		<td>{ diskspace }</td>
		<td>{ allowedspace }</td>
		<td>{ remainingspace }</td>
	</tr>
	<!--#endin getnextmgrp -->
	<tr> 
		<td colspan="4">&nbsp;</td>
	</tr>
	<!--#in getglobalspace -->
	<tr> 
		<td>{ groupname }</td>
		<td>{ diskspace }</td>
		<td>{ allowedspace }</td>
		<td>{ remainingspace }</td>
	</tr>
	<!--#endin getglobalspace -->
	<tr> 
		<td class="BabSiteAdminTitleFontBackground" colspan="4"><input type="button" name="cancel" value="{ cancel }"  onClick="window.close()"></td>
	</tr>
</table>

</BODY>
</HTML>
<!--#end diskspace -->

<!--#begin viewfile -->




<!--#if access -->
<br>
<table width="90%" border="0" cellspacing="0" cellpadding="0" align="center">
<tr>
<td class="BabMailBackground" align="center">
<table border="0" width="95%" cellpadding="3" cellspacing="0" align="center">
<tr>
<td width="30%" >{ description }</td>
<td>{ descvalhtml }</td>
</tr>
<!--#if bUseKeyword -->
<tr>
<td>{ t_keywords }</td>
<td>{ keysvalhtml }</td>
</tr>
<!--#endif bUseKeyword -->
<!--#in getnextfield -->
<tr>
<td>{ field }</td>
<td>{ fieldval }</td>
</tr>
<!--#endin getnextfield -->
<tr>
<td>{ fsizetxt }</td>
<td>{ fsize }</td>
</tr>
<tr>
<td>{ fmodifiedtxt }</td>
<td>{ fmodified }</td>
</tr>
<tr>
<td>{ fmodifiedbytxt }</td>
<td>{ fmodifiedby }</td>
</tr>
<tr>
<td>{ fcreatedtxt }</td>
<td>{ fcreated }</td>
</tr>
<tr>
<td>{ fpostedbytxt }</td>
<td>{ fpostedby }</td>
</tr>
</table>
<!--#if bdownload --><a class="BabFaqLink" href="{ geturl }"><br>
{ download }</a> <br><!--#endif bdownload -->
</td>
</tr>
</table>
<br>
<form method="post" name="fupdate" action="{ babPhpSelf }" enctype="multipart/form-data">
<input type="hidden" name="MAX_FILE_SIZE" value="{ babMaxFileSize }" />
<input type="hidden" name="tg" value="fileman" />
<input type="hidden" name="idx" value="list" />
<input type="hidden" name="sAction" value="updateFile" />
<input type="hidden" name="id" value="{ id }" />
<input type="hidden" name="gr" value="{ gr }" />
<input type="hidden" name="path" value="{ path }" />
<input type="hidden" name="file" value="{ file }" />
<input type="hidden" name="idf" value="{ idf }" />
<table  width="80%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground" align="center" valign="middle"> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<!--#if bupdate -->
<tr> 
<td  width="30%" align="right">{ file }</td>
<td>
<input type="file" name="uploadf" size="30" maxlength="255" value="" />
</td>
</tr>
<!--#endif bupdate -->
<!--#if bmanager -->
<tr> 
<td align="right">{ name }</td>
<td>
<input type="text" name="fname" size="30" maxlength="255" value="{ nameval }" />
</td>
</tr>
<tr>
<td align="right">{ description }</td>
<td>
<input type="text" name="description" size="60" maxlength="255" value="{ descvalhtml }" />
</td>
</tr>
<!--#if bUseKeyword -->
<tr> 
<td align="right">{ keywords }</td>
<td>
<input type="text" id="idtags" name="keywords" size="60" maxlength="255" value="{ keysvalhtml }" />
<div align="left" id="tags-ac" class="auto_complete">
</td>
</tr>
<!--#endif bUseKeyword -->
<!--#in getnextfield -->
<tr> 
<td align="right">{ field }</td>
<td>
<input type="text" name="{ fieldid }" size="60" maxlength="255" value="{ fieldvalhtml }" />
</td>
</tr>
<!--#endin getnextfield -->
<tr> 
<td align="right">{ attribute }</td>
<td>
<select name="readonly">
  <option value="N" { noselected }>{ no }</option>
  <option value="Y" { yesselected }>{ yes }</option>
</select>
</td>
</tr>
<!--#if bviewnf -->
<tr> 
<td align="right">{ notify }</td>
<td>
<select name="bnotify">
  <option value="N" { nonfselected }>{ no }</option>
  <option value="Y" { yesnfselected }>{ yes }</option>
</select>
</td>
</tr>
<!--#endif bviewnf -->
<!--#endif bmanager -->
<!--#if bconfirm -->
<tr> 
<td align="right">{ confirm }</td>
<td>
<select name="confirm">
  <option value="N" { confirmno }>{ no }</option>
  <option value="Y" { confirmyes }>{ yes }</option>
</select>
</td>
</tr>
<!--#endif bconfirm -->
<!--#if bsubmit -->
<tr>
<td align="right">&nbsp;</td>
<td>
<input type="submit" name="submit" value="{ update }" />
</td>
</tr>
<!--#endif bsubmit -->
</table>
</td>
</tr>
</table>
</form>
<!--#endif access -->

<br />

<!--#if index -->
<form method="post" name="fupdate" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="fileman" />
<input type="hidden" name="idx" value="viewFile" />
<input type="hidden" name="updf" value="updindex" />
<input type="hidden" name="id" value="{ id }" />
<input type="hidden" name="gr" value="{ gr }" />
<input type="hidden" name="path" value="{ path }" />
<input type="hidden" name="file" value="{ file }" />
<input type="hidden" name="idf" value="{ idf }" />
<table  width="80%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground" align="center" valign="middle"> 
	<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
	<tr> 
		<td>
			<p>
			{ t_index_status } :
			<select name="index_status">
				<!--#in getnextistatus -->
				<option value="{ value }" <!--#if selected --> selected="selected" <!--#endif selected --> <!--#if disabled --> disabled="disabled" <!--#endif disabled --> >{ option }</option>
				<!--#endin getnextistatus -->
			</select>
			</p>
			
			<!--#if versions -->
			<p>
				{ t_change_all } : 
				<select name="change_all">
					<option value="0">{ t_no }</option>
					<option value="1">{ t_yes }</option>
				</select>
			</p>
			<!--#endif versions -->

			<p align="center">
				<input type="submit" name="submit" value="{ update }" />
			</p>
		</td>
	</tr>
	</table>
</td>
</tr>
</table>
</form>
<!--#endif index -->
<script type="text/javascript">
<!--

if(null != $('idtags'))
{
  aTokens = [','];
  aConfiguration = {tokens: aTokens, minChars: 1, fullSearch: false, choices: 10};
  
  var rAjax = new Ajax.Request(
    'index.php?tg=thesaurus&idx=tagsjson',
    {
      method: 'get',
      onSuccess: function(xhr)
      {
		atags = [];
		aConfiguration.afterUpdateElement = function() { $('idtags').value += ', ' };
		eval("var tags = " + xhr.responseText);
		for(i=0;i<tags.length;i++) {
			atags.push(tags[i].tagname + '');
		}
		new Autocompleter.Local("idtags", "tags-ac", atags, aConfiguration)
      }
    }
  );
}

//-->
</script>

<!--#end viewfile -->


<!--#begin fileunload -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>{ babSiteName }</TITLE>
<meta http-equiv="Content-type" content="{ sContent }"/>
{ babMeta }
{ babCss }
<script type="text/javascript">
<!--
window.focus();
//-->
</script>

</HEAD>
<BODY onUnload="javascript:this.opener.location.href='{ redirecturl }';">
<br><br><br><br>

<table class="BabLoginMenuBackground" width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td> 
<table class="" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabErrorMessage" colspan="2" align="center">{ message } </td>
</tr>
<tr align="left" valign="middle">
<td class="BabWarningBodyBackground" colspan="2" align="center"><a href="javascript:this.close()">{ 
close }</a> </td>
</tr>
</table>
</td>
</tr>
</table>
<br>

<script type="text/javascript">
	setTimeout("this.close()","1000");
</script>

</BODY>
</HTML>
<!--#end fileunload -->


<!--#begin displayFolderForm -->
<script type="text/javascript">
//<![CDATA[
function showHide()
{
	var oForm = document.forms.displayFolderForm;

	var oType = document.getElementById('sType');
	if(null != oType)
	{
		if(oType.checked)
		{
			ovidentia_fileman_hide();
		}
		else
		{
			ovidentia_fileman_show();
		}
	}
}

function ovidentia_fileman_show()
{
	$$('.showHide').each(function(e) {
		Element.show(e);
	});
}

function ovidentia_fileman_hide()
{
	$$('.showHide').each(function(e) {
		Element.hide(e);
	});
}
//]]>
</script>

<form name="displayFolderForm" method="post" action="{ babPhpSelf }">
	<input type="hidden" name="tg" value="{ m_datas[sTg] }" />
	<input type="hidden" name="idx" value="{ m_datas[sIdx] }" />
	<input type="hidden" name="sAction" value="{ m_datas[sAction] }" />
	
	<input type="hidden" name="iIdFolder" value="{ m_datas[iIdFolder] }" />
	<input type="hidden" name="sOldDirName" value="{ m_datas[sOldDirName] }" />
	<input type="hidden" name="id" value="{ m_datas[iId] }" />
	<input type="hidden" name="path" value="{ m_datas[sPath] }" />
	<input type="hidden" name="gr" value="{ m_datas[sGr] }" />

	{ m_datas[sHtmlTable] }
	
</form>
<script type="text/javascript">
//<![CDATA[
	bab_initFunctions.push(function() {
		var oForm = document.forms.displayFolderForm;
		if('Y' == oForm['gr'].value)
		{
			showHide();
		}
	});	
//]]>
</script>
<!--#end displayFolderForm -->

<!--#begin collectiveDir -->
<table border="0" width="90%" cellspacing="0" cellpadding="2" align="center">
	<tr> 
		<td class="BabLoginCadreBackground">
			<table width="100%" border="0" cellspacing="2" cellpadding="5" align="center" class="BabLoginMenuBackground">
				<tr> 
					<td width="40%" align="right">
						{ m_captions[sDirName] }
					</td>
					<td width="60%">
						<input type="text" name="sDirName" size="40" maxlength="255" value="{ m_datas[sDirName] }" />
					</td>
				</tr>
				<tr> 
					<td align="right">&nbsp;</td>
					<td>
					<input type="checkbox" id="sType" name="sType" value="{ m_datas[sSimple] }" onclick="showHide()" { m_datas[sChecked] } { m_datas[sDisabled] }/>{ m_captions[sConfRights] }
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sActive] }
					</td>
					<td>
						<select name="sActive"> 
						<!--#if m_datas[isActive] -->
							<option value="{ m_datas[sYes] }" selected="selected">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }">{ m_captions[sNo] }</option>
						<!--#else m_datas[isActive] -->
							<option value="{ m_datas[sYes] }">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }" selected="selected">{ m_captions[sNo] }</option>
						<!--#endif m_datas[isActive] -->
						</select>
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sApprobationScheme] }
					</td>
					<td>
						<select name="iIdApprobationScheme"> 
							<option value="{ m_datas[iNone] }" selected="selected">{ m_captions[sNone] }</option>
							<!--#in getNextApprobationScheme -->
							<option value="{ m_datas[iAppSchemeId] }" { m_datas[sAppSchemeNameSelected] }>{ m_datas[iAppSchemeName] }</option>
							<!--#endin getNextApprobationScheme -->
						</select>
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sAutoApprobation] }
					</td>
					<td>
						<select name="sAutoApprobation"> 
						<!--#if m_datas[isAutoApprobation] -->
							<option value="{ m_datas[sYes] }" selected="selected">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }">{ m_captions[sNo] }</option>
						<!--#else m_datas[isAutoApprobation] -->
							<option value="{ m_datas[sYes] }">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }" selected="selected">{ m_captions[sNo] }</option>
						<!--#endif m_datas[isAutoApprobation] -->
						</select>
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sNotification] }
					</td>
					<td>
						<select name="sNotification"> 
						<!--#if m_datas[isFileNotify] -->
							<option value="{ m_datas[sYes] }" selected="selected">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }">{ m_captions[sNo] }</option>
						<!--#else m_datas[isFileNotify] -->
							<option value="{ m_datas[sYes] }">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }" selected="selected">{ m_captions[sNo] }</option>
						<!--#endif m_datas[isFileNotify] -->
						</select>
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sVersioning] }
					</td>
					<td>
						<select name="sVersioning"> 
						<!--#if m_datas[isVersioning] -->
							<option value="{ m_datas[sYes] }" selected="selected">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }">{ m_captions[sNo] }</option>
						<!--#else m_datas[isVersioning] -->
							<option value="{ m_datas[sYes] }">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }" selected="selected">{ m_captions[sNo] }</option>
						<!--#endif m_datas[isVersioning] -->
						</select>
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sDisplay] }
					</td>
					<td>
						<select name="sDisplay"> 
						<!--#if m_datas[isShow] -->
							<option value="{ m_datas[sYes] }" selected="selected">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }">{ m_captions[sNo] }</option>
						<!--#else m_datas[isShow] -->
							<option value="{ m_datas[sNo] }" selected="selected">{ m_captions[sNo] }</option>
							<option value="{ m_datas[sYes] }">{ m_captions[sYes] }</option>
						<!--#endif m_datas[isShow] -->
						</select>
					</td>
				</tr>
				<tr class="showHide"> 
					<td align="right">
						{ m_captions[sAddTags] }
					</td>
					<td>
						<select name="sAddTags"> 
						<!--#if m_datas[isAddTags] -->
							<option value="{ m_datas[sYes] }" selected="selected">{ m_captions[sYes] }</option>
							<option value="{ m_datas[sNo] }">{ m_captions[sNo] }</option>
						<!--#else m_datas[isAddTags] -->
							<option value="{ m_datas[sNo] }" selected="selected">{ m_captions[sNo] }</option>
							<option value="{ m_datas[sYes] }">{ m_captions[sYes] }</option>
						<!--#endif m_datas[isAddTags] -->
						</select>
					</td>
				</tr>
				<tr> 
					<td colspan="2">
						<br />
					</td>
				</tr>
				<tr align="center"> 
					<td colspan="2">
						<input type="submit"  name="sCreateEditFolder" value="{ m_captions[sSubmit] }">
					<!--#if m_datas[bDelete] -->				
						<input type="submit" name="sDeleteFolder" value="{ m_captions[sDelete] }">
					<!--#endif m_datas[bDelete] -->
					</td>
				</tr>
			</table>
		</td>
	</tr>
</table>	
<!--#end collectiveDir -->

<!--#begin userDir -->
<table border="0" width="90%" cellspacing="0" cellpadding="2" align="center">
	<tr> 
		<td class="BabLoginCadreBackground">
			<table width="100%" border="0" cellspacing="2" cellpadding="5" align="center" class="BabLoginMenuBackground">
				<tr> 
					<td width="40%" align="right">
						{ m_captions[sDirName] }
					</td>
					<td width="60%">
						<input type="text" name="sDirName" size="40" maxlength="255" value="{ m_datas[sDirName] }" />
					</td>
				</tr>
				<tr> 
					<td colspan="2">
						<br />
					</td>
				</tr>
				<tr align="center"> 
					<td colspan="2">
						<input type="submit" name="sCreateEditFolder" value="{ m_captions[sSubmit] }">
					<!--#if m_datas[bDelete] -->				
						<input type="submit" name="sDeleteFolder" value="{ m_captions[sDelete] }">
					<!--#endif m_datas[bDelete] -->
					</td>
				</tr>
			</table>
		</td>
	</tr>
</table>	
<!--#end userDir -->


<!--#begin warningyesno -->
<script type="text/javascript">
//<![CDATA[
function on_delete()
{
	document.warningyesno.submit();
}

function on_cancel()
{
	var form = document.forms.warningyesno;
	form.idx.value = '';
	form.sAction.value = '';
	form.submit();
}
//]]>
</script>

<form name="warningyesno" method="post" action="{ babPhpSelf }">
	<input type="hidden" name="tg" value="{ m_datas[sTg] }" />
	<input type="hidden" name="idx" value="{ m_datas[sIdx] }" />
	<input type="hidden" name="sAction" value="{ m_datas[sAction] }" />
	<input type="hidden" name="sDirName" value="{ m_datas[sDirName] }" />
	<input type="hidden" name="iIdFolder" value="{ m_datas[iIdFolder] }" />
	<input type="hidden" name="id" value="{ m_datas[iId] }" />
	<input type="hidden" name="path" value="{ m_datas[sPath] }" />
	<input type="hidden" name="sPathName" value="{ m_datas[sPathName] }" />
	<input type="hidden" name="gr" value="{ m_datas[sGr] }" />


	<table border="0" width="50%" cellpadding="3" cellspacing="0" align="center">
		<tr>
			<td class="BabWarningTitleBackground" align="center">
				{ m_captions[warning] }
			</td>
		</tr>
		<tr>
			<td class="BabWarningBodyBackground">
				<br />
			</td>
		</tr>
		<tr>
			<td class="BabWarningBodyBackground" align="center">
				{ m_captions[message] }
			</td>
		</tr>
		<tr>
			<td class="BabWarningBodyBackground">
				<br />
			</td>
		</tr>
		<tr>
			<td class="BabWarningObjectBackground" align="center">
				{ m_captions[title] }<br />
			</td>
		</tr>
		<tr>
			<td class="BabWarningBodyBackground" align="center">
				<a class="BabWarningLinkColor" href="#" onclick="on_delete()">{ m_captions[yes] }</a> | <a class="BabWarningLinkColor" href="#" onclick="on_cancel()">{ m_captions[no] }</a>
			</td>
		</tr>
	</table>
</form>
<!--#end warningyesno -->
