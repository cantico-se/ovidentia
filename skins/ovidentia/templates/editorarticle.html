<!--#begin editorarticle -->

<script type="text/javascript">
<!--


function func(articleid,title)
	{
	var target = 1;
	var checkb = document.getElementById('tg');
	if (checkb.checked) {
		target = 1;
	}
	else {
		target = 0;
	}
	
	var html = opener.getSelection();
	if (html != '')
		{
		title = html;
		}
	
	opener.bab_dialog._return({
		'callback' 	: 'editorInsertText',
		'param'		: '$ARTICLEID('+articleid+','+opener.bab_macroEncodeParam(title)+','+target+')'
	});
	
	window.close();
	}

function updateEditor()
{
	var target = 1;
	var checkb = document.getElementById('tg');
	if (checkb.checked) {
		target = 1;
	}
	else {
		target = 0;
	}

	var param = '';
	
	for( i =0; i < document.editorarticle.length; i++)
	{
		
	if( document.editorarticle.elements[i].type == "checkbox")
		{
		if( document.editorarticle.elements[i].name == 'artcheck[]' && document.editorarticle.elements[i].checked )
			{
			var title = document.getElementById('arttitle-'+document.editorarticle.elements[i].value);
			param += ' $ARTICLEID('+document.editorarticle.elements[i].value+','+opener.bab_macroEncodeParam(title.value)+','+target+') ';
			}
		}
	}

	opener.bab_dialog._return({
		'callback' 	: 'editorInsertText',
		'param'		: param
	});
	
	window.close();
	
}

//-->
</script>
<p>
	<a href="{ babUrlScript }?tg=editorarticle&amp;idx=browse">{ t_tree_view }</a>
</p>

<!--#if noarticles -->
<p style="text-align:center">
	{ t_noarticles }
</p>
<!--#else noarticles -->
<form method="post" name="editorarticle" action="{ babPhpSelf }">

<ul id="bab_editor_functions">
	<!--#in getnextarticle -->
	<li>
		<input type="checkbox" name="artcheck[]" value="{ articleid }" /> { titledisp }
		<input type="hidden" id="arttitle-{ articleid }" value="{ title }" />
	</li>
	<!--#endin getnextarticle -->
</ul>
<p>
	<input type="checkbox" id="tg" name="tg" checked="checked" /> { target_txt }
</p>
<p align="center">
	<a href="#" onclick="javascript:updateEditor();return false;">{ t_update }</a>
</p>
</form>
<!--#endif noarticles -->

<!--#end editorarticle -->