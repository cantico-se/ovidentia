
<!--#begin sectionscreate -->

<form name="seccreate" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="sections">
<input type="hidden" name="idx" value="0">
<input type="hidden" name="js" value="{ jscript }">
<input type="hidden" name="create" value="create">
<table class="BabLoginCadreBackground" width="90%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr>
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td colspan="2">{ title }</td>
</tr>
<tr> 
<td colspan="2"> 
<input type="text" name="title" size="20" maxlength="30">
</td>
</tr>
<tr> 
<td colspan="2">{ description }</td>
</tr>
<tr> 
<td colspan="2"> 
<input type="text" name="description" size="40" maxlength="80">
</td>
</tr>
<tr> 
<td width="30%" nowrap valign="middle">{ position }&nbsp; 
<select name="position">
<option value="0" selected>{ left }</option>
<option value="1">{ right }</option>
</select>
</tr>
<!-- Instanciation de la barre d'outils -->
<!--#if msie "== 1" -->
<script src="{ babScriptPath }{ babLanguage }/editorlang.js"></script>
<script src="{ babScriptPath }editor.js"></script>
<tr> 
<td colspan="2"> 
<textarea cols="1" rows="1" style="VISIBILITY: hidden" name="content"></textarea>
</td>
</tr>
<tr align="center"> 
<td colspan="2">{ content }</td>
</tr>
<tr> 
<td colspan="2" align="center"> 
<script language="JavaScript"> 
	var idGenerator = new IDGenerator(0);
	var editor = new Editor(idGenerator, '{ babEditorImages }');
	editor.ToolBar();
</script>
</td>
</tr>
<!--#endif msie --> 
<tr align="center"> 
<td colspan="2"> 
<!--#if msie "== 1" -->
<script language="JavaScript">
	editor.InFrame(0, "content", "seccreate", "90%", "160");
	</script>
<!--#else msie --> 
<textarea cols="50" rows="20" name="content"></textarea>
<!--#endif msie -->
</td>
</tr>
<!--#if msie "== 1" --> 
<tr align="center"> 
<td colspan="2"> 
<input onClick=SetVals() type="submit" name="submit" value="{ create }">
<br>
</td>
</tr>
	<script language="JavaScript">
	editor.FinalInstantiate(0);
	editor.CloseInitSection();
	</script>
<!--#else msie --> 
<tr align="center"> 
<td colspan="2"> 
<input type="submit" name="Submit" value="{ create }">
<br>
</td>
</tr>
<!--#endif msie --> 
</table>
</td>
</tr>
</table>
</form>
<br>
<!--#end sectionscreate --> 
<br>
<br>
<br>
<br>
<!--#begin sectionslist --> 
<form method="post" action="{ babPhpSelf }" name="listform">
<input type="hidden" name="tg" value="sections">
<input type="hidden" name="idx" value="List">
<input type="hidden" name="update" value="disable">
<table width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground"> 
<table width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabSiteAdminTitleFontBackground" nowrap 
valign="middle"><b>{ title }</b></td>
<td class="BabSiteAdminTitleFontBackground" 
valign="middle"><b>{ description }</b> </td>
<td class="BabSiteAdminTitleFontBackground" width="1%" align="center">{ access }</td>
<td class="BabSiteAdminTitleFontBackground" width="1%" align="center">{ disabled }</td>
</tr>
<!--#in getnextp --> 
<tr> 
<td class="BabSiteAdminFontBackground" nowrap valign="middle"><b>{ arr[title] }</b></td>
<td class="BabSiteAdminFontBackground" valign="middle">&nbsp;{ arr[description] 
} </td>
<td valign="middle" width="0%" align="center">&nbsp;</td>
<td valign="middle" width="0%" align="center"> 
<input type="checkbox" name="sections[]" { secchecked } value="{ idvalue }">
</td>
</tr>
<!--#endin getnextp --> 
<!--#in getnextcat --> 
<tr> 
<td class="BabSiteAdminFontBackground" nowrap valign="middle"><b>{ arr[title] }</b></td>
<td class="BabSiteAdminFontBackground" valign="middle">&nbsp;{ arr[description] 
} </td>
<td valign="middle" width="0%" align="center">&nbsp;</td>
<td valign="middle" width="0%" align="center"> 
<input type="checkbox" name="sections[]" { secchecked } value="{ idvalue }">
</td>
</tr>
<!--#endin getnextcat -->
<!--#in getnext --> 
<tr> 
<td class="BabSiteAdminFontBackground" nowrap valign="middle"><a class="BabSiteAdminListLink" href="{ url }">{ 
arr[title] }</a></td>
<td class="BabSiteAdminFontBackground" valign="middle">&nbsp;{ arr[description] 
} </td>
<td valign="middle" width="0%" align="center"><a class="BabSiteAdminListLink" href="{ accessurl }">{ groups }</a></td>
<td valign="middle" width="0%" align="center"> 
<input type="checkbox" name="sections[]" { secchecked } value="{ idvalue }">
</td>
</tr>
<!--#endin getnext --> 
<tr> 
<td class="BabSiteAdminTitleFontBackground" nowrap 
valign="middle">&nbsp;</td>
<td class="BabSiteAdminTitleFontBackground" 
valign="middle">&nbsp;</td>
<td class="BabSiteAdminTitleFontBackground" width="1%" align="center">&nbsp;</td>
<td class="BabSiteAdminTitleFontBackground" width="1%" align="center"><a href="javascript:onCheckAll('sections', true)"><img src="{ babSkinPath }images/Puces/Pucecheked.gif" alt="{ checkall }" width="10" height="10" border="0"></a><a href="javascript:onCheckAll('sections', false)"><img src="{ babSkinPath }images/Puces/PuceUncheked.gif" alt="{ uncheckall }" width="10" height="10" border="0"></a></td>
</table>
</td>
</tr>
</table>
<br>
<div align="center">
<input type="submit" name="submit" value="{ update }"></div>
<br>
</form>
<!--#end sectionslist --> <br>
<br>
<br>
<br>
<br>
<!--#begin sectionsmodify --> 
<form name="secmod" method="post" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="section">
<input type="hidden" name="idx" value="modify">
<input type="hidden" name="item" value="{ id }">
<input type="hidden" name="modify" value="modify">
<table class="BabLoginCadreBackground" width="95%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr>
<td> 
<table class="BabLoginMenuBackground" width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td colspan="2">{ title }</td>
</tr>
<tr> 
<td colspan="2"> 
<input type="text" name="title" value="{ titleval }" size="15" maxlength="30">
</td>
</tr>
<tr> 
<td colspan="2">{ description }</td>
</tr>
<tr> 
<td colspan="2"> 
<input type="text" name="description" size="40" value="{ descval }" maxlength="80">
</td>
</tr>
<!-- Instanciation de la barre d'outils --> <!--#if msie "== 1" --> 
<script src="{ babScriptPath }{ babLanguage }/editorlang.js"></script>
<script src="{ babScriptPath }editor.js"></script>
<tr> 
<td colspan="2"> 
<textarea cols="1" rows="1" style="VISIBILITY: hidden" name="content">{ contentval }</textarea>
</td>
</tr>
<tr> 
<td align="center" colspan="2">{ content }</td>
</tr>
<tr> 
<td colspan="2"> 
	<script language="JavaScript"> 
	var idGenerator = new IDGenerator(0);
	var editor = new Editor(idGenerator, '{ babEditorImages }');
	editor.ToolBar();
	</script>
</td>
</tr>
<!--#endif msie --> 
<tr> 
<td align="center" colspan="2"> 
<!--#if msie "== 1" -->
<script language="JavaScript">
	editor.InFrame(0, "content", "secmod", "90%", "160");
	</script>
<!--#else msie --> 
<textarea cols="50" rows="20" name="content">{ contentval }</textarea>
<!--#endif msie -->
</td>
</tr>
<!--#if msie "== 1" --> 
<tr> 
<td align="center" colspan="2"> 
<input onClick=SetVals() type="submit" name="submit" value="{ modify }">&nbsp;&nbsp;<input type="submit" name="secdel" value="{ delete }">
</td>
</tr>
	<script language="JavaScript">
	editor.FinalInstantiate(0);
	editor.CloseInitSection();
	</script>
<!--#else msie --> 
<tr> 
<td align="center" colspan="2"> 
<input type="submit" name="submit" value="{ modify }">&nbsp;&nbsp;<input type="submit" name="secdel" value="{ delete }">
</td>
</tr>
<!--#endif msie -->
</table>
</td>
</tr>
</table>
</form>
<!--#end sectionsmodify --> 

<br><br><br><br><br>

<!--#begin sectionordering -->
<script language="JavaScript">
<!--
function move(bDir, el)
	{
	var idx = el.selectedIndex
	if (idx !=-1 && idx != 0) 
	{
		if( idx == 1 && bDir == true)
			return;
		if( idx == el.options.length-1 && bDir == false)
			return;
		var nxidx = idx + ( bDir ? - 1 : 1)
		if ( nxidx<0 )
			nxidx=el.length-1
		if ( nxidx>=el.length) nxidx=0
		var oldVal = el[idx].value
		var oldText = el[idx].text
		el[idx].value = el[nxidx].value
		el[idx].text = el[nxidx].text
		el[nxidx].value = oldVal
		el[nxidx].text = oldText
		el.selectedIndex = nxidx
	}
}

function moveOptions(src,dest)
{	 
	srclen = src.options.length;
	reslen = dest.options.length + srclen;
	resopt = new Array(reslen);
	destcnt = 1;
	rescnt = 1;
	resopt[0] = new Option(dest.options[0].text,dest.options[0].value);
	while(destcnt < dest.options.length)
	{
		resopt[rescnt] = new Option(dest.options[destcnt].text,dest.options[destcnt].value);
		destcnt++;
		rescnt++;
	}
	for(i = 1; i < srclen; i++)
	{
		while((i < srclen) && (src.options[i].selected == false))
			i++;
		if(i < srclen)
		{
			if(src.options[i].value != src.options[0].value)
			{
				resopt[rescnt] = new Option(src.options[i].text,src.options[i].value);
				src.options[i] = null;
				i--;
				srclen--;
				rescnt++;
			}
		}
	}
	for(i=0; i< rescnt;i++)
	{
		dest.options[i] = null;
		dest.options[i] = resopt[i];
	}
}

function selectAll(list)
{
	list.options[0].selected = false;
	for(i=1; i < list.options.length; i++)
	{
		list.options[i].selected = true;
	}
}
//-->
</script>

<form method="post" name="secorderf" action="{ babPhpSelf }">
<input type="hidden" name="tg" value="sections">
<input type="hidden" name="idx" value="order">
<input type="hidden" name="update" value="order">

<table  width="50%" border="0" cellspacing="0" cellpadding="2" align="center">
<tr> 
<td class="BabLoginCadreBackground" align="center" valign="middle"> 
<table  width="100%" border="0" cellspacing="0" cellpadding="5" align="center">
<tr> 
<td class="BabLoginMenuBackground" align="center" valign="center"> <br>
<select name="listleft[]"  size=12 multiple>
<option value="">{ listleftsectxt }</option>
<!--#in getnextsecleft --> 
<option value="{ secid }">{ listleftsecval }</option>
<!--#endin getnextsecleft --> 
</select>
</td>
<td class="BabLoginMenuBackground" align="center"><a href="Javascript:move(true, document.secorderf.elements[3])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" width="22" height="18" border=0 alt="{ moveup }"></a> 
<br>
<br>
<a href="Javascript:move(false, document.secorderf.elements[3])"> <img src="{ babSkinPath }images/Puces/PuceGoDown.gif" width="22" height="18" border=0 alt="{ movedown }"></a> 
</td>
</tr>
<tr> 
<td class="BabLoginMenuBackground" align="center" valign="middle"><a href="Javascript:moveOptions(document.secorderf.elements[3],document.secorderf.elements[4])"><img src="{ babSkinPath }images/Puces/PuceGoHandDown.gif" width="20" height="24" border=0 alt="Down"></a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="Javascript:moveOptions(document.secorderf.elements[4],document.secorderf.elements[3])" ><img src="{ babSkinPath }images/Puces/PuceGoHandTop.gif" width="20" height="24" border=0 alt="Up"></a></td>
<td class="BabLoginMenuBackground">&nbsp;</td>
</tr>
<tr> 
<td class="BabLoginMenuBackground" align="center"> 
<select name="listright[]"  size=12 multiple>
<option value="">{ listrightsectxt }</option>
<!--#in getnextsecright --> 
<option value="{ secid }">{ listrightsecval }</option>
<!--#endin getnextsecright --> 
</select>
</td>
<td class="BabLoginMenuBackground" align="center" valign="middle"><a href="Javascript:move(true, document.secorderf.elements[4])"><img src="{ babSkinPath }images/Puces/PuceGoTop.gif" width="22" height="18" border=0 alt="{ moveup }"></a> 
<br>
<br>
<a href="Javascript:move(false, document.secorderf.elements[4])"><img src="{ babSkinPath }images/Puces/PuceGoDown.gif" width="22" height="18" border=0 alt="{ movedown }"></a> 
</td>
</tr>
<tr> 
<td class="BabLoginMenuBackground" align="center" valign="middle"> 
<input type="submit" name="Submit" value="{ update }" onClick="Javascript:selectAll(document.secorderf.elements[4]); selectAll(document.secorderf.elements[3]); document.secorderf.submit()">
<br>
<br>
</td>
<td class="BabLoginMenuBackground">&nbsp; </td>
</tr>
</table>
</td>
</tr>
</table>
</form>

<!--#end sectionordering -->
