<!--#begin treeview -->
<div id="{ t_treeViewId }" class="bab_tree BabLoginCadreBackground" style="padding: 1px">

	<div class="tree" style="position: relative">
<script type="text/javascript">document.getElementById("{ t_treeViewId }").getElementsByTagName('DIV')[0].style.display='none'</script>
<!--#in getNextElement -->
<!--#if t_levelVariation "== 1" --><ul><!--#endif t_levelVariation -->
<!--#if t_levelVariation "<= -1" --></li></ul><!--#endif t_levelVariation -->
<!--#if t_levelVariation "== 0" --></li><!--#endif t_levelVariation -->
<!--#if t_levelVariation ">= -1" -->
<li id="li{ t_id }" class="bab_ul_tree_leaf">
<div class="line">
<img class="bullet" src="{ babSkinPath }images/Puces/Space1PxTrans.gif" width="20" height="16" />
<!--#if t_nodeIcon --><img src="{ t_nodeIcon }" /> <!--#else t_nodeIcon --><img src="{ babSkinPath }images/Puces/Space1PxTrans.gif" /> <!--#endif t_nodeIcon -->
<!--#if t_link  -->
<a href="{ t_link }"><span class="level{ t_previousLevel } { t_type }">{ t_title }</span></a>
<!--#else t_link  -->
<span class="level{ t_previousLevel } { t_type }">{ t_title }</span>
<!--#endif t_link  -->
<!--#if t_showRightElements -->
<span class="right_elements">{ t_info }
<!--#in getNextCheckBox -->
<input type="checkbox" name="{ checkbox_name }" />
<!--#endin getNextCheckBox -->
<!--#in getNextAction -->
<a href="{ action_url }" title="{ action_caption }"><img src="{ action_icon }" /></a>
<!--#endin getNextAction -->
</span>
<!--#endif t_showRightElements -->
</div>
<!--#endif t_levelVariation -->
<!--#endin getNextElement -->
	</div>

<!--#if t_isMultiSelect -->
<div style="text-align: center;"><button type="submit" onclick="document.getElementById('{ t_treeViewId }').onSubmitTree();">{ t_submit }</button></div>
<!--#endif t_isMultiSelect  -->
</div>
<script type="text/javascript">document.getElementById("{ t_treeViewId }").getElementsByTagName('DIV')[0].style.display=''</script>

<script type="text/javascript">
document.getElementById("{ t_treeViewId }").onElementClick = function(element)
{
	try {
		var returnParameters = {
			'type': element.className.split(' ')[1],
			'id': element.parentNode.parentNode.id.split('{ t_id_separator }')[1],
			'content': element.firstChild.nodeValue
		};
		window.opener.bab_dialog._return(returnParameters);
		window.close();
	} catch(e) {};
}

document.getElementById("{ t_treeViewId }").onSubmitTree = function()
{
	if (!window.opener) {
		return;
	}
	try {
		var returnParameters = new Array();
		var retstr = '';
		var inputs = this.getElementsByTagName('INPUT');
		for (i = 0; i < inputs.length; i++) {
			input = inputs[i];
			if (input.type == 'checkbox' && input.checked) {
				var element;
				for (j = 0; j < input.parentNode.parentNode.childNodes.length; j++) {
					e = input.parentNode.parentNode.childNodes[j];
					if (e.nodeName && (e.nodeName == 'SPAN' || e.nodeName == 'A')) {
						element = e;
						break;
					}
				}
				var returnParameter = {
					'type': element.className.split(' ')[1],
					'id': input.parentNode.parentNode.parentNode.id.split('{ t_id_separator }')[1],
					'content': element.firstChild.nodeValue
				}
				returnParameters.push(returnParameter);
//				window.opener.EditorOnInsertFile && window.opener.EditorOnInsertFile('', returnParameter.id, returnParameter.content);
			}
		}
		window.opener.bab_dialog && window.opener.bab_dialog._return(returnParameters);
		window.close();
	} catch(e) {alert(e)};
}
</script>

<!--#end treeview -->

<!--#begin treeview_css -->
<style type="text/css">
	@import url('{ babInstallPath }styles/tree.css');
</style>
<!--#end treeview_css -->

<!--#begin treeview_scripts -->
<script type="text/javascript" src="{ babSkinPath }templates/tree.js"></script>
<script type="text/javascript">
<!--

bab_initTrees();

-->
</script>
<!--#end treeview_scripts -->
