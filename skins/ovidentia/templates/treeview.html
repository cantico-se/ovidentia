<!--#begin treeview -->
<div id="{ t_treeViewId }" class="bab_tree BabLoginCadreBackground" style="padding: 1px">

<div class="tree" style="position: relative">
<script type="text/javascript">document.getElementById("{ t_treeViewId }").getElementsByTagName('DIV')[0].style.display='none'</script>
<!--#in getNextElement -->
<!--#if t_levelVariation "== 1" --><ul><!--#endif t_levelVariation -->
<!--#if t_levelVariation "<= -1" --></li></ul><!--#endif t_levelVariation -->
<!--#if t_levelVariation "== 0" --></li><!--#endif t_levelVariation -->
<!--#if t_levelVariation ">= -1" -->
<li id="li{ t_id }" class="bab_ul_tree_leaf">
<div class="line">
<img class="bullet" src="{ babSkinPath }images/Puces/Space1PxTrans.gif" width="20" height="16" />
<!--#if t_nodeIcon --><img src="{ t_nodeIcon }" /> <!--#else t_nodeIcon --><img src="{ babSkinPath }images/Puces/Space1PxTrans.gif" /> <!--#endif t_nodeIcon -->
<!--#if t_link  -->
<a href="{ t_link }"><span class="level{ t_previousLevel } { t_type }">{ t_title }</span></a>
<!--#else t_link  -->
<span class="level{ t_previousLevel } { t_type }">{ t_title }</span>
<!--#endif t_link  -->
<!--#if t_showRightElements -->
<span class="right_elements">{ t_info }
<!--#in getNextCheckBox -->
<input type="checkbox" name="{ checkbox_name }" />
<!--#endin getNextCheckBox -->
<!--#in getNextAction -->
<a href="{ action_url }" title="{ action_caption }"><img src="{ action_icon }" /></a>
<!--#endin getNextAction -->
</span>
<!--#endif t_showRightElements -->
</div>
<!--#endif t_levelVariation -->
<!--#endin getNextElement -->
</div>

<!--#if t_isMultiSelect -->
<div style="text-align: center;"><button type="submit" onclick="document.getElementById('{ t_treeViewId }').onSubmitTree();">{ t_submit }</button></div>
<!--#endif t_isMultiSelect  -->
</div>
<script type="text/javascript">document.getElementById("{ t_treeViewId }").getElementsByTagName('DIV')[0].style.display=''</script>

<script type="text/javascript">
if (!window.bab_Translations) {
	window.bab_Translations = new Array();
}
window.bab_Translations['Expand'] = '{ t_expand }';
window.bab_Translations['Collapse'] = '{ t_collapse }';

document.getElementById("{ t_treeViewId }").onElementClick = function(element)
{
	try {
		var returnParameters = {
			'type': element.className.split(' ')[1],
			'id': element.parentNode.parentNode.id.split('{ t_id_separator }')[1],
			'content': element.firstChild.nodeValue
		};
		window.opener.bab_dialog._return(returnParameters);
		window.close();
	} catch(e) {};
}

document.getElementById("{ t_treeViewId }").onSubmitTree = function()
{
	if (!window.opener) {
		return;
	}
	try {
		var returnParameters = new Array();
		var retstr = '';
		var inputs = this.getElementsByTagName('INPUT');
		for (i = 0; i < inputs.length; i++) {
			input = inputs[i];
			if (input.type == 'checkbox' && input.checked) {
				var element;
				for (j = 0; j < input.parentNode.parentNode.childNodes.length; j++) {
					e = input.parentNode.parentNode.childNodes[j];
					if (e.nodeName && (e.nodeName == 'SPAN' || e.nodeName == 'A')) {
						element = e;
						break;
					}
				}
				var returnParameter = {
					'type': element.className.split(' ')[1],
					'id': input.parentNode.parentNode.parentNode.id.split('{ t_id_separator }')[1],
					'content': element.firstChild.nodeValue
				}
				returnParameters.push(returnParameter);
//				window.opener.EditorOnInsertFile && window.opener.EditorOnInsertFile('', returnParameter.id, returnParameter.content);
			}
		}
		window.opener.bab_dialog && window.opener.bab_dialog._return(returnParameters);
		window.close();
	} catch(e) {alert(e)};
}
</script>

<!--#end treeview -->

<!--#begin treeview_css -->
<style type="text/css">
	@import url('{ babInstallPath }styles/tree.css');
</style>
<!--#end treeview_css -->

<!--#begin treeview_scripts -->
<script type="text/javascript" src="{ babSkinPath }templates/tree.js"></script>
<script type="text/javascript">
<!--

bab_initTrees();

//-->
</script>
<!--#end treeview_scripts -->





<!--#begin orgchart_css -->

<style type="text/css">
	@import url('{ babInstallPath }styles/orgchart.css');
</style>

<!--#end orgchart_css -->



<!--#begin orgchart_scripts -->

<script type="text/javascript" src="{ babSkinPath }templates/orgchart.js"></script>
<script type="text/javascript">
<!--

bab_initOrgChart(document.getElementById('{ t_treeViewId }'));

//-->
</script>

<!--#end orgchart_scripts -->



<!--#begin orgchart -->

<!-- BEGIN ORGCHART -->

<div class="orgchart" class="bab_tree BabLoginCadreBackground" style="position: relative; width: 100%; overflow: auto;" id="{ t_treeViewId }">
<!--#in getNextElement -->

<!--#if t_previousLayout "== horizontal" -->

  <!--#if t_levelVariation "<= -1" --></td></tr></tbody></table><!--#endif t_levelVariation -->
  <!--#if t_levelVariation "== 0" --></td><!--#endif t_levelVariation -->
  
<!--#else t_previousLayout -->

  <!--#if t_levelVariation "<= -1" --></li></ul><!--#endif t_levelVariation -->
  <!--#if t_levelVariation "== 0" --></li><!--#endif t_levelVariation -->

<!--#endif t_previousLayout -->
 
<!--#if t_layout "== horizontal" -->

  <!--#if t_levelVariation "== 1" --><table class="level{ t_previousLevel } horizontal"><tbody><tr><!--#endif t_levelVariation -->
  <!--#if t_levelVariation ">= -1" -->
  <td class="subtree">

  <!--#if t_isMiddleChild -->
  <div class="middle_sibling">
  <!--#else t_isMiddleChild -->
  <!--#if t_isSingleChild -->
  <div class="single_sibling">
  <!--#else t_isSingleChild -->
  <!--#if t_isFirstChild -->
  <div class="first_sibling">
  <!--#else t_isFirstChild -->
  <!--#if t_isLastChild -->
  <div class="last_sibling">
  <!--#endif t_isLastChild -->
  <!--#endif t_isFirstChild -->
  <!--#endif t_isSingleChild -->
  <!--#endif t_isMiddleChild -->
  <div class="{ t_type }">
  <!--#if t_nodeIcon -->
  <table width="100%" style="margin: 0; padding: 0"><tr>
  <td width="1%"><img class="icon" src="{ t_nodeIcon }" /></td>
  <td><b>{ t_title }</b><br />{ t_info }</td>
  </tr></table>
  <!--#else t_nodeIcon -->
  <b>{ t_title }</b><br />{ t_info }
  <!--#endif t_nodeIcon -->

  <div class="actions">
  <!--#in getNextAction -->
  <a href="{ action_url }" title="{ action_caption }"><img class="action" src="{ action_icon }" /></a>
  <!--#endin getNextAction -->
  </div>
  
  <!--#if t_nbMembers "> 0" -->
  <div class="members">
  <!--#in getNextMemberRole -->
  <div class="member_role">{ t_memberRole }</div>
  <!--#in getNextMemberName -->
  <div class="member">{ t_memberName }</div>
  <!--#endin getNextMemberName -->
  <!--#endin getNextMemberRole -->
  </div>
  <!--#endif t_nbMembers -->
  </div>
  <!--#endif t_levelVariation -->

<!--#else t_layout -->

  <!--#if t_levelVariation "== 1" --><ul class="level{ t_previousLevel } vertical"><!--#endif t_levelVariation -->
  <!--#if t_levelVariation ">= -1" -->

  <!--#if t_isMiddleChild -->
  <li class="subtree middle_sibling">
  <!--#else t_isMiddleChild -->
  <!--#if t_isSingleChild -->
  <li class="subtree single_sibling">
  <!--#else t_isSingleChild -->
  <!--#if t_isFirstChild -->
  <li class="subtree first_sibling">
  <!--#else t_isFirstChild -->
  <!--#if t_isLastChild -->
  <li class="subtree last_sibling">
  <!--#endif t_isLastChild -->
  <!--#endif t_isFirstChild -->
  <!--#endif t_isSingleChild -->
  <!--#endif t_isMiddleChild -->
  <div class="{ t_type }">
  <!--#if t_nodeIcon -->
  <table width="100%" style="margin: 0; padding: 0"><tr>
  <td width="1%"><img class="icon" src="{ t_nodeIcon }" /></td>
  <td><b>{ t_title }</b><br />{ t_info }</div></td>
  </tr></table>
  <!--#else t_nodeIcon -->
  <b>{ t_title }</b><br />{ t_info }
  <!--#endif t_nodeIcon -->

  <div class="actions">
  <!--#in getNextAction -->
  <a href="{ action_url }" title="{ action_caption }" <!--#if action_script -->onclick="{ action_script }"<!--#endif action_script -->><img class="action" src="{ action_icon }" /></a>
  <!--#endin getNextAction -->
  </div>
  
  <!--#if t_nbMembers "> 0" -->
  <div class="members">
  <!--#in getNextMemberRole -->
  <div class="member_role">{ t_memberRole }</div>
  <!--#in getNextMemberName -->
  <div class="member">{ t_memberName }</div>
  <!--#endin getNextMemberName -->
  <!--#endin getNextMemberRole -->
  </div>
  <!--#endif t_nbMembers -->
  </div>
  <!--#endif t_levelVariation -->

<!--#endif t_layout -->

<!--#endin getNextElement -->
</div>
<!-- END ORGCHART -->

<!--#end orgchart -->

